(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Jc={exports:{}},Wo={},Zc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function V_(){if(Pp)return Ce;Pp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,$={};function z(N,Q,fe){this.props=N,this.context=Q,this.refs=$,this.updater=fe||O}z.prototype.isReactComponent={},z.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function q(){}q.prototype=z.prototype;function G(N,Q,fe){this.props=N,this.context=Q,this.refs=$,this.updater=fe||O}var ne=G.prototype=new q;ne.constructor=G,U(ne,z.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,Te=Object.prototype.hasOwnProperty,_e={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(N,Q,fe){var Ie,Re={},xe=null,Me=null;if(Q!=null)for(Ie in Q.ref!==void 0&&(Me=Q.ref),Q.key!==void 0&&(xe=""+Q.key),Q)Te.call(Q,Ie)&&!k.hasOwnProperty(Ie)&&(Re[Ie]=Q[Ie]);var Fe=arguments.length-2;if(Fe===1)Re.children=fe;else if(1<Fe){for(var je=Array(Fe),gt=0;gt<Fe;gt++)je[gt]=arguments[gt+2];Re.children=je}if(N&&N.defaultProps)for(Ie in Fe=N.defaultProps,Fe)Re[Ie]===void 0&&(Re[Ie]=Fe[Ie]);return{$$typeof:i,type:N,key:xe,ref:Me,props:Re,_owner:_e.current}}function I(N,Q){return{$$typeof:i,type:N.type,key:Q,ref:N.ref,props:N.props,_owner:N._owner}}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return Q[fe]})}var L=/\/+/g;function R(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):Q.toString(36)}function tt(N,Q,fe,Ie,Re){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var Me=!1;if(N===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(N.$$typeof){case i:case e:Me=!0}}if(Me)return Me=N,Re=Re(Me),N=Ie===""?"."+R(Me,0):Ie,he(Re)?(fe="",N!=null&&(fe=N.replace(L,"$&/")+"/"),tt(Re,Q,fe,"",function(gt){return gt})):Re!=null&&(x(Re)&&(Re=I(Re,fe+(!Re.key||Me&&Me.key===Re.key?"":(""+Re.key).replace(L,"$&/")+"/")+N)),Q.push(Re)),1;if(Me=0,Ie=Ie===""?".":Ie+":",he(N))for(var Fe=0;Fe<N.length;Fe++){xe=N[Fe];var je=Ie+R(xe,Fe);Me+=tt(xe,Q,fe,je,Re)}else if(je=A(N),typeof je=="function")for(N=je.call(N),Fe=0;!(xe=N.next()).done;)xe=xe.value,je=Ie+R(xe,Fe++),Me+=tt(xe,Q,fe,je,Re);else if(xe==="object")throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(N,Q,fe){if(N==null)return N;var Ie=[],Re=0;return tt(N,Ie,"","",function(xe){return Q.call(fe,xe,Re++)}),Ie}function xt(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var ze={current:null},te={transition:null},de={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:te,ReactCurrentOwner:_e};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:kt,forEach:function(N,Q,fe){kt(N,function(){Q.apply(this,arguments)},fe)},count:function(N){var Q=0;return kt(N,function(){Q++}),Q},toArray:function(N){return kt(N,function(Q){return Q})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=z,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=G,Ce.StrictMode=s,Ce.Suspense=g,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ce.act=ie,Ce.cloneElement=function(N,Q,fe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Ie=U({},N.props),Re=N.key,xe=N.ref,Me=N._owner;if(Q!=null){if(Q.ref!==void 0&&(xe=Q.ref,Me=_e.current),Q.key!==void 0&&(Re=""+Q.key),N.type&&N.type.defaultProps)var Fe=N.type.defaultProps;for(je in Q)Te.call(Q,je)&&!k.hasOwnProperty(je)&&(Ie[je]=Q[je]===void 0&&Fe!==void 0?Fe[je]:Q[je])}var je=arguments.length-2;if(je===1)Ie.children=fe;else if(1<je){Fe=Array(je);for(var gt=0;gt<je;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:i,type:N.type,key:Re,ref:xe,props:Ie,_owner:Me}},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},Ce.createElement=T,Ce.createFactory=function(N){var Q=T.bind(null,N);return Q.type=N,Q},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:m,render:N}},Ce.isValidElement=x,Ce.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:xt}},Ce.memo=function(N,Q){return{$$typeof:_,type:N,compare:Q===void 0?null:Q}},Ce.startTransition=function(N){var Q=te.transition;te.transition={};try{N()}finally{te.transition=Q}},Ce.unstable_act=ie,Ce.useCallback=function(N,Q){return ze.current.useCallback(N,Q)},Ce.useContext=function(N){return ze.current.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N){return ze.current.useDeferredValue(N)},Ce.useEffect=function(N,Q){return ze.current.useEffect(N,Q)},Ce.useId=function(){return ze.current.useId()},Ce.useImperativeHandle=function(N,Q,fe){return ze.current.useImperativeHandle(N,Q,fe)},Ce.useInsertionEffect=function(N,Q){return ze.current.useInsertionEffect(N,Q)},Ce.useLayoutEffect=function(N,Q){return ze.current.useLayoutEffect(N,Q)},Ce.useMemo=function(N,Q){return ze.current.useMemo(N,Q)},Ce.useReducer=function(N,Q,fe){return ze.current.useReducer(N,Q,fe)},Ce.useRef=function(N){return ze.current.useRef(N)},Ce.useState=function(N){return ze.current.useState(N)},Ce.useSyncExternalStore=function(N,Q,fe){return ze.current.useSyncExternalStore(N,Q,fe)},Ce.useTransition=function(){return ze.current.useTransition()},Ce.version="18.3.1",Ce}var kp;function Fh(){return kp||(kp=1,Zc.exports=V_()),Zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function D_(){if(xp)return Wo;xp=1;var i=Fh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,_){var w,C={},A=null,O=null;_!==void 0&&(A=""+_),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(O=g.ref);for(w in g)s.call(g,w)&&!c.hasOwnProperty(w)&&(C[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)C[w]===void 0&&(C[w]=g[w]);return{$$typeof:e,type:m,key:A,ref:O,props:C,_owner:a.current}}return Wo.Fragment=n,Wo.jsx=f,Wo.jsxs=f,Wo}var Vp;function N_(){return Vp||(Vp=1,Jc.exports=D_()),Jc.exports}var oe=N_(),H=Fh(),Ol={},eh={exports:{}},Gt={},th={exports:{}},nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function L_(){return Dp||(Dp=1,function(i){function e(te,de){var ie=te.length;te.push(de);e:for(;0<ie;){var N=ie-1>>>1,Q=te[N];if(0<a(Q,de))te[N]=de,te[ie]=Q,ie=N;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var de=te[0],ie=te.pop();if(ie!==de){te[0]=ie;e:for(var N=0,Q=te.length,fe=Q>>>1;N<fe;){var Ie=2*(N+1)-1,Re=te[Ie],xe=Ie+1,Me=te[xe];if(0>a(Re,ie))xe<Q&&0>a(Me,Re)?(te[N]=Me,te[xe]=ie,N=xe):(te[N]=Re,te[Ie]=ie,N=Ie);else if(xe<Q&&0>a(Me,ie))te[N]=Me,te[xe]=ie,N=xe;else break e}}return de}function a(te,de){var ie=te.sortIndex-de.sortIndex;return ie!==0?ie:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],_=[],w=1,C=null,A=3,O=!1,U=!1,$=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(te){for(var de=n(_);de!==null;){if(de.callback===null)s(_);else if(de.startTime<=te)s(_),de.sortIndex=de.expirationTime,e(g,de);else break;de=n(_)}}function he(te){if($=!1,ne(te),!U)if(n(g)!==null)U=!0,xt(Te);else{var de=n(_);de!==null&&ze(he,de.startTime-te)}}function Te(te,de){U=!1,$&&($=!1,q(T),T=-1),O=!0;var ie=A;try{for(ne(de),C=n(g);C!==null&&(!(C.expirationTime>de)||te&&!D());){var N=C.callback;if(typeof N=="function"){C.callback=null,A=C.priorityLevel;var Q=N(C.expirationTime<=de);de=i.unstable_now(),typeof Q=="function"?C.callback=Q:C===n(g)&&s(g),ne(de)}else s(g);C=n(g)}if(C!==null)var fe=!0;else{var Ie=n(_);Ie!==null&&ze(he,Ie.startTime-de),fe=!1}return fe}finally{C=null,A=ie,O=!1}}var _e=!1,k=null,T=-1,I=5,x=-1;function D(){return!(i.unstable_now()-x<I)}function L(){if(k!==null){var te=i.unstable_now();x=te;var de=!0;try{de=k(!0,te)}finally{de?R():(_e=!1,k=null)}}else _e=!1}var R;if(typeof G=="function")R=function(){G(L)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=L,R=function(){kt.postMessage(null)}}else R=function(){z(L,0)};function xt(te){k=te,_e||(_e=!0,R())}function ze(te,de){T=z(function(){te(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){U||O||(U=!0,xt(Te))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var ie=A;A=de;try{return te()}finally{A=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=A;A=te;try{return de()}finally{A=ie}},i.unstable_scheduleCallback=function(te,de,ie){var N=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?N+ie:N):ie=N,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ie+Q,te={id:w++,callback:de,priorityLevel:te,startTime:ie,expirationTime:Q,sortIndex:-1},ie>N?(te.sortIndex=ie,e(_,te),n(g)===null&&te===n(_)&&($?(q(T),T=-1):$=!0,ze(he,ie-N))):(te.sortIndex=Q,e(g,te),U||O||(U=!0,xt(Te))),te},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(te){var de=A;return function(){var ie=A;A=de;try{return te.apply(this,arguments)}finally{A=ie}}}}(nh)),nh}var Np;function O_(){return Np||(Np=1,th.exports=L_()),th.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function M_(){if(Lp)return Gt;Lp=1;var i=Fh(),e=O_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function A(t){return g.call(C,t)?!0:g.call(w,t)?!1:_.test(t)?C[t]=!0:(w[t]=!0,!1)}function O(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U(t,r,o,u){if(r===null||typeof r>"u"||O(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function G(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(q,G);z[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(q,G);z[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(q,G);z[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,u){var h=z.hasOwnProperty(r)?z[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(U(r,o,h,u)&&(o=null),u||h===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var he=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),_e=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),te=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,N;function Q(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var fe=!1;function Ie(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,S=p.length-1;1<=v&&0<=S&&h[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(h[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||h[v]!==p[S]){var P=`
`+h[v].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=v&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Re(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case _e:return"Portal";case I:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Jn(t){t._valueTracker||(t._valueTracker=gt(t))}function bi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ii(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ys(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function Js(t,r){Ys(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Bi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Bi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ea(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Bi(t,r,o){(r!=="number"||wr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Zn=Array.isArray;function er(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Zs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ji(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Zn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function $i(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function eo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,to=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(t){oi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),si[r]=si[t]})});function no(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||si.hasOwnProperty(t)&&si[t]?(""+r).trim():r+"px"}function ro(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=no(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var io=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(t,r){if(r){if(io[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function oo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function Hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,sn=null,Nn=null;function Wi(t){if(t=Vo(t)){if(typeof qi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Xa(r),qi(t.stateNode,t.type,r))}}function Ln(t){sn?Nn?Nn.push(t):Nn=[t]:sn=t}function ao(){if(sn){var t=sn,r=Nn;if(Nn=sn=null,Wi(t),r)for(t=0;t<r.length;t++)Wi(r[t])}}function li(t,r){return t(r)}function lo(){}var nr=!1;function uo(t,r,o){if(nr)return t(r,o);nr=!0;try{return li(t,r,o)}finally{nr=!1,(sn!==null||Nn!==null)&&(lo(),ao())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Xa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Qi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Qi=!1}function ui(t,r,o,u,h,p,v,S,P){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(X){this.onError(X)}}var ci=!1,Ki=null,_n=!1,co=null,Cu={onError:function(t){ci=!0,Ki=t}};function Gi(t,r,o,u,h,p,v,S,P){ci=!1,Ki=null,ui.apply(Cu,arguments)}function wa(t,r,o,u,h,p,v,S,P){if(Gi.apply(this,arguments),ci){if(ci){var B=Ki;ci=!1,Ki=null}else throw Error(n(198));_n||(_n=!0,co=B)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function hi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(vn(t)!==t)throw Error(n(188))}function Ta(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return En(h),t;if(p===u)return En(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,S=h.child;S;){if(S===o){v=!0,o=h,u=p;break}if(S===u){v=!0,u=h,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,u=h;break}if(S===u){v=!0,u=p,o=h;break}S=S.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ho(t){return t=Ta(t),t!==null?Xi(t):null}function Xi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Xi(t);if(r!==null)return r;t=t.sibling}return null}var Yi=e.unstable_scheduleCallback,fo=e.unstable_cancelCallback,Sa=e.unstable_shouldYield,Au=e.unstable_requestPaint,$e=e.unstable_now,Ia=e.unstable_getCurrentPriorityLevel,fi=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,po=e.unstable_LowPriority,Ra=e.unstable_IdlePriority,di=null,Yt=null;function Ca(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Pa,mo=Math.log,Aa=Math.LN2;function Pa(t){return t>>>=0,t===0?32:31-(mo(t)/Aa|0)|0}var Ji=64,Zi=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var S=v&~h;S!==0?u=Ir(S):(p&=v,p!==0&&(u=Ir(p)))}else v=o&~h,v!==0?u=Ir(v):p!==0&&(u=Ir(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),h=1<<o,u|=t[o],r&=~h;return u}function Pu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Ut(p),S=1<<v,P=h[v];P===-1?(!(S&o)||S&u)&&(h[v]=Pu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mi(){var t=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),t}function Rr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Cr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ut(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Pe=0;function Pr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ka,es,xa,Va,Da,go=!1,On=[],Tt=null,wn=null,Tn=null,kr=new Map,an=new Map,Mn=[],ku="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Na(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":kr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function jt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Vo(r),r!==null&&es(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function xu(t,r,o,u,h){switch(r){case"focusin":return Tt=jt(Tt,t,r,o,u,h),!0;case"dragenter":return wn=jt(wn,t,r,o,u,h),!0;case"mouseover":return Tn=jt(Tn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return kr.set(p,jt(kr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,jt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function La(t){var r=Ei(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=hi(o),r!==null){t.blockedOn=r,Da(t.priority,function(){xa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ir(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ts(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ai=u,o.target.dispatchEvent(u),ai=null}else return r=Vo(o),r!==null&&es(r),t.blockedOn=o,!1;r.shift()}return!0}function gi(t,r,o){ir(t)&&o.delete(r)}function Oa(){go=!1,Tt!==null&&ir(Tt)&&(Tt=null),wn!==null&&ir(wn)&&(wn=null),Tn!==null&&ir(Tn)&&(Tn=null),kr.forEach(gi),an.forEach(gi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,go||(go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Oa)))}function In(t){function r(h){return Sn(h,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var u=On[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),kr.forEach(r),an.forEach(r),o=0;o<Mn.length;o++)u=Mn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)La(o),o.blockedOn===null&&Mn.shift()}var sr=he.ReactCurrentBatchConfig,xr=!0;function Qe(t,r,o,u){var h=Pe,p=sr.transition;sr.transition=null;try{Pe=1,yo(t,r,o,u)}finally{Pe=h,sr.transition=p}}function Vu(t,r,o,u){var h=Pe,p=sr.transition;sr.transition=null;try{Pe=4,yo(t,r,o,u)}finally{Pe=h,sr.transition=p}}function yo(t,r,o,u){if(xr){var h=ts(t,r,o,u);if(h===null)ju(t,r,u,yi,o),Na(t,u);else if(xu(h,t,r,o,u))u.stopPropagation();else if(Na(t,u),r&4&&-1<ku.indexOf(t)){for(;h!==null;){var p=Vo(h);if(p!==null&&ka(p),p=ts(t,r,o,u),p===null&&ju(t,r,u,yi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else ju(t,r,u,null,o)}}var yi=null;function ts(t,r,o,u){if(yi=null,t=Hi(u),t=Ei(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=hi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return yi=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ia()){case fi:return 1;case Sr:return 4;case on:case po:return 16;case Ra:return 536870912;default:return 16}default:return 16}}var Zt=null,ns=null,$t=null;function vo(){if($t)return $t;var t,r=ns,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return $t=h.slice(t,1<u?1-u:void 0)}function rs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Eo(){return!1}function St(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:Eo,this.isPropagationStopped=Eo,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=St(Rn),Un=ie({},Rn,{view:0,detail:0}),Du=St(Un),ss,or,Vr,_i=ie({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(ss=t.screenX-Vr.screenX,or=t.screenY-Vr.screenY):or=ss=0,Vr=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:or}}),os=St(_i),wo=ie({},_i,{dataTransfer:0}),Ma=St(wo),as=ie({},Un,{relatedTarget:0}),ls=St(as),Fa=ie({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=St(Fa),Ua=ie({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ba=St(Ua),za=ie({},Rn,{data:0}),To=St(za),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ba={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ja(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ba[t])?!!r[t]:!1}function bn(){return ja}var l=ie({},Un,{key:function(t){if(t.key){var r=us[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=St(l),y=ie({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),M=ie({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),j=St(M),ee=ie({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=St(ee),ct=ie({},_i,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=St(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,vi=m&&(!st||ln&&8<ln&&11>=ln),cs=" ",Tf=!1;function Sf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function ky(t,r){switch(t){case"compositionend":return If(r);case"keypress":return r.which!==32?null:(Tf=!0,cs);case"textInput":return t=r.data,t===cs&&Tf?null:t;default:return null}}function xy(t,r){if(hs)return t==="compositionend"||!st&&Sf(t,r)?(t=vo(),$t=ns=Zt=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vi&&r.locale!=="ko"?null:r.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Vy[t.type]:r==="textarea"}function Cf(t,r,o,u){Ln(u),r=Qa(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var So=null,Io=null;function Dy(t){Hf(t,0)}function $a(t){var r=gs(t);if(bi(r))return t}function Ny(t,r){if(t==="change")return r}var Af=!1;if(m){var Nu;if(m){var Lu="oninput"in document;if(!Lu){var Pf=document.createElement("div");Pf.setAttribute("oninput","return;"),Lu=typeof Pf.oninput=="function"}Nu=Lu}else Nu=!1;Af=Nu&&(!document.documentMode||9<document.documentMode)}function kf(){So&&(So.detachEvent("onpropertychange",xf),Io=So=null)}function xf(t){if(t.propertyName==="value"&&$a(Io)){var r=[];Cf(r,Io,t,Hi(t)),uo(Dy,r)}}function Ly(t,r,o){t==="focusin"?(kf(),So=r,Io=o,So.attachEvent("onpropertychange",xf)):t==="focusout"&&kf()}function Oy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $a(Io)}function My(t,r){if(t==="click")return $a(r)}function Fy(t,r){if(t==="input"||t==="change")return $a(r)}function Uy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:Uy;function Ro(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!g.call(r,h)||!Cn(t[h],r[h]))return!1}return!0}function Vf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Df(t,r){var o=Vf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vf(o)}}function Nf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Nf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Lf(){for(var t=window,r=wr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wr(t.document)}return r}function Ou(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function by(t){var r=Lf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Nf(o.ownerDocument.documentElement,o)){if(u!==null&&Ou(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Df(o,p);var v=Df(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zy=m&&"documentMode"in document&&11>=document.documentMode,fs=null,Mu=null,Co=null,Fu=!1;function Of(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fu||fs==null||fs!==wr(u)||(u=fs,"selectionStart"in u&&Ou(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Co&&Ro(Co,u)||(Co=u,u=Qa(Mu,"onSelect"),0<u.length&&(r=new is("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=fs)))}function Ha(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ds={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Uu={},Mf={};m&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function qa(t){if(Uu[t])return Uu[t];if(!ds[t])return t;var r=ds[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Mf)return Uu[t]=r[o];return t}var Ff=qa("animationend"),Uf=qa("animationiteration"),bf=qa("animationstart"),zf=qa("transitionend"),Bf=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){Bf.set(t,r),c(r,[t])}for(var bu=0;bu<jf.length;bu++){var zu=jf[bu],By=zu.toLowerCase(),jy=zu[0].toUpperCase()+zu.slice(1);Dr(By,"on"+jy)}Dr(Ff,"onAnimationEnd"),Dr(Uf,"onAnimationIteration"),Dr(bf,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(zf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function $f(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,wa(u,r,void 0,t),t.currentTarget=null}function Hf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],P=S.instance,B=S.currentTarget;if(S=S.listener,P!==p&&h.isPropagationStopped())break e;$f(h,S,B),p=P}else for(v=0;v<u.length;v++){if(S=u[v],P=S.instance,B=S.currentTarget,S=S.listener,P!==p&&h.isPropagationStopped())break e;$f(h,S,B),p=P}}}if(_n)throw t=co,_n=!1,co=null,t}function qe(t,r){var o=r[Ku];o===void 0&&(o=r[Ku]=new Set);var u=t+"__bubble";o.has(u)||(qf(r,t,2,!1),o.add(u))}function Bu(t,r,o){var u=0;r&&(u|=4),qf(o,t,u,r)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[Wa]){t[Wa]=!0,s.forEach(function(o){o!=="selectionchange"&&($y.has(o)||Bu(o,!1,t),Bu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Wa]||(r[Wa]=!0,Bu("selectionchange",!1,r))}}function qf(t,r,o,u){switch(_o(r)){case 1:var h=Qe;break;case 4:h=Vu;break;default:h=yo}o=h.bind(null,r,o,t),h=void 0,!Qi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function ju(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Ei(S),v===null)return;if(P=v.tag,P===5||P===6){u=p=v;continue e}S=S.parentNode}}u=u.return}uo(function(){var B=p,X=Hi(o),Y=[];e:{var K=Bf.get(t);if(K!==void 0){var re=is,le=t;switch(t){case"keypress":if(rs(o)===0)break e;case"keydown":case"keyup":re=d;break;case"focusin":le="focus",re=ls;break;case"focusout":le="blur",re=ls;break;case"beforeblur":case"afterblur":re=ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=j;break;case Ff:case Uf:case bf:re=ar;break;case zf:re=be;break;case"scroll":re=Du;break;case"wheel":re=Ve;break;case"copy":case"cut":case"paste":re=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var ue=(r&4)!==0,rt=!ue&&t==="scroll",F=ue?K!==null?K+"Capture":null:K;ue=[];for(var V=B,b;V!==null;){b=V;var Z=b.stateNode;if(b.tag===5&&Z!==null&&(b=Z,F!==null&&(Z=nt(V,F),Z!=null&&ue.push(ko(V,Z,b)))),rt)break;V=V.return}0<ue.length&&(K=new re(K,le,null,o,X),Y.push({event:K,listeners:ue}))}}if(!(r&7)){e:{if(K=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",K&&o!==ai&&(le=o.relatedTarget||o.fromElement)&&(Ei(le)||le[lr]))break e;if((re||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,re?(le=o.relatedTarget||o.toElement,re=B,le=le?Ei(le):null,le!==null&&(rt=vn(le),le!==rt||le.tag!==5&&le.tag!==6)&&(le=null)):(re=null,le=B),re!==le)){if(ue=os,Z="onMouseLeave",F="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ue=E,Z="onPointerLeave",F="onPointerEnter",V="pointer"),rt=re==null?K:gs(re),b=le==null?K:gs(le),K=new ue(Z,V+"leave",re,o,X),K.target=rt,K.relatedTarget=b,Z=null,Ei(X)===B&&(ue=new ue(F,V+"enter",le,o,X),ue.target=b,ue.relatedTarget=rt,Z=ue),rt=Z,re&&le)t:{for(ue=re,F=le,V=0,b=ue;b;b=ps(b))V++;for(b=0,Z=F;Z;Z=ps(Z))b++;for(;0<V-b;)ue=ps(ue),V--;for(;0<b-V;)F=ps(F),b--;for(;V--;){if(ue===F||F!==null&&ue===F.alternate)break t;ue=ps(ue),F=ps(F)}ue=null}else ue=null;re!==null&&Wf(Y,K,re,ue,!1),le!==null&&rt!==null&&Wf(Y,rt,le,ue,!0)}}e:{if(K=B?gs(B):window,re=K.nodeName&&K.nodeName.toLowerCase(),re==="select"||re==="input"&&K.type==="file")var ce=Ny;else if(Rf(K))if(Af)ce=Fy;else{ce=Oy;var pe=Ly}else(re=K.nodeName)&&re.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ce=My);if(ce&&(ce=ce(t,B))){Cf(Y,ce,o,X);break e}pe&&pe(t,K,B),t==="focusout"&&(pe=K._wrapperState)&&pe.controlled&&K.type==="number"&&Bi(K,"number",K.value)}switch(pe=B?gs(B):window,t){case"focusin":(Rf(pe)||pe.contentEditable==="true")&&(fs=pe,Mu=B,Co=null);break;case"focusout":Co=Mu=fs=null;break;case"mousedown":Fu=!0;break;case"contextmenu":case"mouseup":case"dragend":Fu=!1,Of(Y,o,X);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":Of(Y,o,X)}var me;if(st)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else hs?Sf(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(vi&&o.locale!=="ko"&&(hs||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&hs&&(me=vo()):(Zt=X,ns="value"in Zt?Zt.value:Zt.textContent,hs=!0)),pe=Qa(B,ve),0<pe.length&&(ve=new To(ve,t,null,o,X),Y.push({event:ve,listeners:pe}),me?ve.data=me:(me=If(o),me!==null&&(ve.data=me)))),(me=en?ky(t,o):xy(t,o))&&(B=Qa(B,"onBeforeInput"),0<B.length&&(X=new To("onBeforeInput","beforeinput",null,o,X),Y.push({event:X,listeners:B}),X.data=me))}Hf(Y,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Qa(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,o),p!=null&&u.unshift(ko(t,p,h)),p=nt(t,r),p!=null&&u.push(ko(t,p,h))),t=t.return}return u}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wf(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var S=o,P=S.alternate,B=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&B!==null&&(S=B,h?(P=nt(o,p),P!=null&&v.unshift(ko(o,P,S))):h||(P=nt(o,p),P!=null&&v.push(ko(o,P,S)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var Hy=/\r\n?/g,qy=/\u0000|\uFFFD/g;function Qf(t){return(typeof t=="string"?t:""+t).replace(Hy,`
`).replace(qy,"")}function Ka(t,r,o){if(r=Qf(r),Qf(t)!==r&&o)throw Error(n(425))}function Ga(){}var $u=null,Hu=null;function qu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wu=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,Qy=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(t){return Kf.resolve(null).then(t).catch(Ky)}:Wu;function Ky(t){setTimeout(function(){throw t})}function Qu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Gf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),zn="__reactFiber$"+ms,xo="__reactProps$"+ms,lr="__reactContainer$"+ms,Ku="__reactEvents$"+ms,Gy="__reactListeners$"+ms,Xy="__reactHandles$"+ms;function Ei(t){var r=t[zn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[lr]||o[zn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Gf(t);t!==null;){if(o=t[zn])return o;t=Gf(t)}return r}t=o,o=t.parentNode}return null}function Vo(t){return t=t[zn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Xa(t){return t[xo]||null}var Gu=[],ys=-1;function Lr(t){return{current:t}}function We(t){0>ys||(t.current=Gu[ys],Gu[ys]=null,ys--)}function He(t,r){ys++,Gu[ys]=t.current,t.current=r}var Or={},Vt=Lr(Or),Ht=Lr(!1),wi=Or;function _s(t,r){var o=t.type.contextTypes;if(!o)return Or;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Ya(){We(Ht),We(Vt)}function Xf(t,r,o){if(Vt.current!==Or)throw Error(n(168));He(Vt,r),He(Ht,o)}function Yf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Me(t)||"Unknown",h));return ie({},o,u)}function Ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,wi=Vt.current,He(Vt,t),He(Ht,Ht.current),!0}function Jf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Yf(t,r,wi),u.__reactInternalMemoizedMergedChildContext=t,We(Ht),We(Vt),He(Vt,t)):We(Ht),He(Ht,o)}var ur=null,Za=!1,Xu=!1;function Zf(t){ur===null?ur=[t]:ur.push(t)}function Yy(t){Za=!0,Zf(t)}function Mr(){if(!Xu&&ur!==null){Xu=!0;var t=0,r=Pe;try{var o=ur;for(Pe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ur=null,Za=!1}catch(h){throw ur!==null&&(ur=ur.slice(t+1)),Yi(fi,Mr),h}finally{Pe=r,Xu=!1}}return null}var vs=[],Es=0,el=null,tl=0,un=[],cn=0,Ti=null,cr=1,hr="";function Si(t,r){vs[Es++]=tl,vs[Es++]=el,el=t,tl=r}function ed(t,r,o){un[cn++]=cr,un[cn++]=hr,un[cn++]=Ti,Ti=t;var u=cr;t=hr;var h=32-Ut(u)-1;u&=~(1<<h),o+=1;var p=32-Ut(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,cr=1<<32-Ut(r)+h|o<<h|u,hr=p+t}else cr=1<<p|o<<h|u,hr=t}function Yu(t){t.return!==null&&(Si(t,1),ed(t,1,0))}function Ju(t){for(;t===el;)el=vs[--Es],vs[Es]=null,tl=vs[--Es],vs[Es]=null;for(;t===Ti;)Ti=un[--cn],un[cn]=null,hr=un[--cn],un[cn]=null,cr=un[--cn],un[cn]=null}var tn=null,nn=null,Ke=!1,An=null;function td(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function nd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ti!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Zu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ec(t){if(Ke){var r=nn;if(r){var o=r;if(!nd(t,r)){if(Zu(t))throw Error(n(418));r=Nr(o.nextSibling);var u=tn;r&&nd(t,r)?td(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(Zu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function rd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function nl(t){if(t!==tn)return!1;if(!Ke)return rd(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!qu(t.type,t.memoizedProps)),r&&(r=nn)){if(Zu(t))throw id(),Error(n(418));for(;r;)td(t,r),r=Nr(r.nextSibling)}if(rd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Nr(t.stateNode.nextSibling):null;return!0}function id(){for(var t=nn;t;)t=Nr(t.nextSibling)}function ws(){nn=tn=null,Ke=!1}function tc(t){An===null?An=[t]:An.push(t)}var Jy=he.ReactCurrentBatchConfig;function Do(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var S=h.refs;v===null?delete S[p]:S[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function rl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function sd(t){var r=t._init;return r(t._payload)}function od(t){function r(F,V){if(t){var b=F.deletions;b===null?(F.deletions=[V],F.flags|=16):b.push(V)}}function o(F,V){if(!t)return null;for(;V!==null;)r(F,V),V=V.sibling;return null}function u(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function h(F,V){return F=Hr(F,V),F.index=0,F.sibling=null,F}function p(F,V,b){return F.index=b,t?(b=F.alternate,b!==null?(b=b.index,b<V?(F.flags|=2,V):b):(F.flags|=2,V)):(F.flags|=1048576,V)}function v(F){return t&&F.alternate===null&&(F.flags|=2),F}function S(F,V,b,Z){return V===null||V.tag!==6?(V=Wc(b,F.mode,Z),V.return=F,V):(V=h(V,b),V.return=F,V)}function P(F,V,b,Z){var ce=b.type;return ce===k?X(F,V,b.props.children,Z,b.key):V!==null&&(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xt&&sd(ce)===V.type)?(Z=h(V,b.props),Z.ref=Do(F,V,b),Z.return=F,Z):(Z=Al(b.type,b.key,b.props,null,F.mode,Z),Z.ref=Do(F,V,b),Z.return=F,Z)}function B(F,V,b,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==b.containerInfo||V.stateNode.implementation!==b.implementation?(V=Qc(b,F.mode,Z),V.return=F,V):(V=h(V,b.children||[]),V.return=F,V)}function X(F,V,b,Z,ce){return V===null||V.tag!==7?(V=Vi(b,F.mode,Z,ce),V.return=F,V):(V=h(V,b),V.return=F,V)}function Y(F,V,b){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Wc(""+V,F.mode,b),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Te:return b=Al(V.type,V.key,V.props,null,F.mode,b),b.ref=Do(F,null,V),b.return=F,b;case _e:return V=Qc(V,F.mode,b),V.return=F,V;case xt:var Z=V._init;return Y(F,Z(V._payload),b)}if(Zn(V)||de(V))return V=Vi(V,F.mode,b,null),V.return=F,V;rl(F,V)}return null}function K(F,V,b,Z){var ce=V!==null?V.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ce!==null?null:S(F,V,""+b,Z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Te:return b.key===ce?P(F,V,b,Z):null;case _e:return b.key===ce?B(F,V,b,Z):null;case xt:return ce=b._init,K(F,V,ce(b._payload),Z)}if(Zn(b)||de(b))return ce!==null?null:X(F,V,b,Z,null);rl(F,b)}return null}function re(F,V,b,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(b)||null,S(V,F,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Te:return F=F.get(Z.key===null?b:Z.key)||null,P(V,F,Z,ce);case _e:return F=F.get(Z.key===null?b:Z.key)||null,B(V,F,Z,ce);case xt:var pe=Z._init;return re(F,V,b,pe(Z._payload),ce)}if(Zn(Z)||de(Z))return F=F.get(b)||null,X(V,F,Z,ce,null);rl(V,Z)}return null}function le(F,V,b,Z){for(var ce=null,pe=null,me=V,ve=V=0,Et=null;me!==null&&ve<b.length;ve++){me.index>ve?(Et=me,me=null):Et=me.sibling;var Oe=K(F,me,b[ve],Z);if(Oe===null){me===null&&(me=Et);break}t&&me&&Oe.alternate===null&&r(F,me),V=p(Oe,V,ve),pe===null?ce=Oe:pe.sibling=Oe,pe=Oe,me=Et}if(ve===b.length)return o(F,me),Ke&&Si(F,ve),ce;if(me===null){for(;ve<b.length;ve++)me=Y(F,b[ve],Z),me!==null&&(V=p(me,V,ve),pe===null?ce=me:pe.sibling=me,pe=me);return Ke&&Si(F,ve),ce}for(me=u(F,me);ve<b.length;ve++)Et=re(me,F,ve,b[ve],Z),Et!==null&&(t&&Et.alternate!==null&&me.delete(Et.key===null?ve:Et.key),V=p(Et,V,ve),pe===null?ce=Et:pe.sibling=Et,pe=Et);return t&&me.forEach(function(qr){return r(F,qr)}),Ke&&Si(F,ve),ce}function ue(F,V,b,Z){var ce=de(b);if(typeof ce!="function")throw Error(n(150));if(b=ce.call(b),b==null)throw Error(n(151));for(var pe=ce=null,me=V,ve=V=0,Et=null,Oe=b.next();me!==null&&!Oe.done;ve++,Oe=b.next()){me.index>ve?(Et=me,me=null):Et=me.sibling;var qr=K(F,me,Oe.value,Z);if(qr===null){me===null&&(me=Et);break}t&&me&&qr.alternate===null&&r(F,me),V=p(qr,V,ve),pe===null?ce=qr:pe.sibling=qr,pe=qr,me=Et}if(Oe.done)return o(F,me),Ke&&Si(F,ve),ce;if(me===null){for(;!Oe.done;ve++,Oe=b.next())Oe=Y(F,Oe.value,Z),Oe!==null&&(V=p(Oe,V,ve),pe===null?ce=Oe:pe.sibling=Oe,pe=Oe);return Ke&&Si(F,ve),ce}for(me=u(F,me);!Oe.done;ve++,Oe=b.next())Oe=re(me,F,ve,Oe.value,Z),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?ve:Oe.key),V=p(Oe,V,ve),pe===null?ce=Oe:pe.sibling=Oe,pe=Oe);return t&&me.forEach(function(x_){return r(F,x_)}),Ke&&Si(F,ve),ce}function rt(F,V,b,Z){if(typeof b=="object"&&b!==null&&b.type===k&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Te:e:{for(var ce=b.key,pe=V;pe!==null;){if(pe.key===ce){if(ce=b.type,ce===k){if(pe.tag===7){o(F,pe.sibling),V=h(pe,b.props.children),V.return=F,F=V;break e}}else if(pe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===xt&&sd(ce)===pe.type){o(F,pe.sibling),V=h(pe,b.props),V.ref=Do(F,pe,b),V.return=F,F=V;break e}o(F,pe);break}else r(F,pe);pe=pe.sibling}b.type===k?(V=Vi(b.props.children,F.mode,Z,b.key),V.return=F,F=V):(Z=Al(b.type,b.key,b.props,null,F.mode,Z),Z.ref=Do(F,V,b),Z.return=F,F=Z)}return v(F);case _e:e:{for(pe=b.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===b.containerInfo&&V.stateNode.implementation===b.implementation){o(F,V.sibling),V=h(V,b.children||[]),V.return=F,F=V;break e}else{o(F,V);break}else r(F,V);V=V.sibling}V=Qc(b,F.mode,Z),V.return=F,F=V}return v(F);case xt:return pe=b._init,rt(F,V,pe(b._payload),Z)}if(Zn(b))return le(F,V,b,Z);if(de(b))return ue(F,V,b,Z);rl(F,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,V!==null&&V.tag===6?(o(F,V.sibling),V=h(V,b),V.return=F,F=V):(o(F,V),V=Wc(b,F.mode,Z),V.return=F,F=V),v(F)):o(F,V)}return rt}var Ts=od(!0),ad=od(!1),il=Lr(null),sl=null,Ss=null,nc=null;function rc(){nc=Ss=sl=null}function ic(t){var r=il.current;We(il),t._currentValue=r}function sc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){sl=t,nc=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(nc!==t)if(t={context:t,memoizedValue:r,next:null},Ss===null){if(sl===null)throw Error(n(308));Ss=t,sl.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return r}var Ii=null;function oc(t){Ii===null?Ii=[t]:Ii.push(t)}function ld(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,oc(r)):(o.next=h.next,h.next=o),r.interleaved=o,fr(t,u)}function fr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Le&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,fr(t,o)}return h=u.interleaved,h===null?(r.next=r,oc(u)):(r.next=h.next,h.next=r),u.interleaved=r,fr(t,o)}function ol(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}function cd(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function al(t,r,o,u){var h=t.updateQueue;Fr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var P=S,B=P.next;P.next=null,v===null?p=B:v.next=B,v=P;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=P))}if(p!==null){var Y=h.baseState;v=0,X=B=P=null,S=p;do{var K=S.lane,re=S.eventTime;if((u&K)===K){X!==null&&(X=X.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=t,ue=S;switch(K=r,re=o,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){Y=le.call(re,Y,K);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,K=typeof le=="function"?le.call(re,Y,K):le,K==null)break e;Y=ie({},Y,K);break e;case 2:Fr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=h.effects,K===null?h.effects=[S]:K.push(S))}else re={eventTime:re,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=re,P=Y):X=X.next=re,v|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(X===null&&(P=Y),h.baseState=P,h.firstBaseUpdate=B,h.lastBaseUpdate=X,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ai|=v,t.lanes=v,t.memoizedState=Y}}function hd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var No={},Bn=Lr(No),Lo=Lr(No),Oo=Lr(No);function Ri(t){if(t===No)throw Error(n(174));return t}function lc(t,r){switch(He(Oo,r),He(Lo,t),He(Bn,No),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(Bn),He(Bn,r)}function Rs(){We(Bn),We(Lo),We(Oo)}function fd(t){Ri(Oo.current);var r=Ri(Bn.current),o=ut(r,t.type);r!==o&&(He(Lo,t),He(Bn,o))}function uc(t){Lo.current===t&&(We(Bn),We(Lo))}var Ge=Lr(0);function ll(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cc=[];function hc(){for(var t=0;t<cc.length;t++)cc[t]._workInProgressVersionPrimary=null;cc.length=0}var ul=he.ReactCurrentDispatcher,fc=he.ReactCurrentBatchConfig,Ci=0,Xe=null,ht=null,_t=null,cl=!1,Mo=!1,Fo=0,Zy=0;function Dt(){throw Error(n(321))}function dc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function pc(t,r,o,u,h,p){if(Ci=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ul.current=t===null||t.memoizedState===null?r_:i_,t=o(u,h),Mo){p=0;do{if(Mo=!1,Fo=0,25<=p)throw Error(n(301));p+=1,_t=ht=null,r.updateQueue=null,ul.current=s_,t=o(u,h)}while(Mo)}if(ul.current=dl,r=ht!==null&&ht.next!==null,Ci=0,_t=ht=Xe=null,cl=!1,r)throw Error(n(300));return t}function mc(){var t=Fo!==0;return Fo=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function fn(){if(ht===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=_t===null?Xe.memoizedState:_t.next;if(r!==null)_t=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Uo(t,r){return typeof r=="function"?r(t):r}function gc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var S=v=null,P=null,B=p;do{var X=B.lane;if((Ci&X)===X)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var Y={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(S=P=Y,v=u):P=P.next=Y,Xe.lanes|=X,Ai|=X}B=B.next}while(B!==null&&B!==p);P===null?v=u:P.next=S,Cn(u,r.memoizedState)||(Wt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,Ai|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function yc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);Cn(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function dd(){}function pd(t,r){var o=Xe,u=fn(),h=r(),p=!Cn(u.memoizedState,h);if(p&&(u.memoizedState=h,Wt=!0),u=u.queue,_c(yd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,bo(9,gd.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));Ci&30||md(o,r,h)}return h}function md(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function gd(t,r,o,u){r.value=o,r.getSnapshot=u,_d(r)&&vd(t)}function yd(t,r,o){return o(function(){_d(r)&&vd(t)})}function _d(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function vd(t){var r=fr(t,1);r!==null&&Vn(r,t,1,-1)}function Ed(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},r.queue=t,t=t.dispatch=n_.bind(null,Xe,t),[r.memoizedState,t]}function bo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function wd(){return fn().memoizedState}function hl(t,r,o,u){var h=jn();Xe.flags|=t,h.memoizedState=bo(1|r,o,void 0,u===void 0?null:u)}function fl(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var v=ht.memoizedState;if(p=v.destroy,u!==null&&dc(u,v.deps)){h.memoizedState=bo(r,o,p,u);return}}Xe.flags|=t,h.memoizedState=bo(1|r,o,p,u)}function Td(t,r){return hl(8390656,8,t,r)}function _c(t,r){return fl(2048,8,t,r)}function Sd(t,r){return fl(4,2,t,r)}function Id(t,r){return fl(4,4,t,r)}function Rd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cd(t,r,o){return o=o!=null?o.concat([t]):null,fl(4,4,Rd.bind(null,r,t),o)}function vc(){}function Ad(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&dc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Pd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&dc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function kd(t,r,o){return Ci&21?(Cn(o,r)||(o=mi(),Xe.lanes|=o,Ai|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function e_(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var u=fc.transition;fc.transition={};try{t(!1),r()}finally{Pe=o,fc.transition=u}}function xd(){return fn().memoizedState}function t_(t,r,o){var u=jr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Vd(t))Dd(r,o);else if(o=ld(t,r,o,u),o!==null){var h=Bt();Vn(o,t,u,h),Nd(o,r,u)}}function n_(t,r,o){var u=jr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vd(t))Dd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,o);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,v)){var P=r.interleaved;P===null?(h.next=h,oc(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}o=ld(t,r,h,u),o!==null&&(h=Bt(),Vn(o,t,u,h),Nd(o,r,u))}}function Vd(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function Dd(t,r){Mo=cl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Nd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}var dl={readContext:hn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},r_={readContext:hn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Td,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,hl(4194308,4,Rd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return hl(4194308,4,t,r)},useInsertionEffect:function(t,r){return hl(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=t_.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:Ed,useDebugValue:vc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=Ed(!1),r=t[0];return t=e_.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Xe,h=jn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));Ci&30||md(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Td(yd.bind(null,u,p,t),[t]),u.flags|=2048,bo(9,gd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=vt.identifierPrefix;if(Ke){var o=hr,u=cr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Fo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Zy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},i_={readContext:hn,useCallback:Ad,useContext:hn,useEffect:_c,useImperativeHandle:Cd,useInsertionEffect:Sd,useLayoutEffect:Id,useMemo:Pd,useReducer:gc,useRef:wd,useState:function(){return gc(Uo)},useDebugValue:vc,useDeferredValue:function(t){var r=fn();return kd(r,ht.memoizedState,t)},useTransition:function(){var t=gc(Uo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:dd,useSyncExternalStore:pd,useId:xd,unstable_isNewReconciler:!1},s_={readContext:hn,useCallback:Ad,useContext:hn,useEffect:_c,useImperativeHandle:Cd,useInsertionEffect:Sd,useLayoutEffect:Id,useMemo:Pd,useReducer:yc,useRef:wd,useState:function(){return yc(Uo)},useDebugValue:vc,useDeferredValue:function(t){var r=fn();return ht===null?r.memoizedState=t:kd(r,ht.memoizedState,t)},useTransition:function(){var t=yc(Uo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:dd,useSyncExternalStore:pd,useId:xd,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Ec(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var pl={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=jr(t),p=dr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,h),r!==null&&(Vn(r,t,h,u),ol(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=jr(t),p=dr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,h),r!==null&&(Vn(r,t,h,u),ol(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Bt(),u=jr(t),h=dr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Ur(t,h,u),r!==null&&(Vn(r,t,u,o),ol(r,t,u))}};function Ld(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Ro(o,u)||!Ro(h,p):!0}function Od(t,r,o){var u=!1,h=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=qt(r)?wi:Vt.current,u=r.contextTypes,p=(u=u!=null)?_s(t,h):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=pl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Md(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&pl.enqueueReplaceState(r,r.state,null)}function wc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},ac(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=qt(r)?wi:Vt.current,h.context=_s(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Ec(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&pl.enqueueReplaceState(h,h.state,null),al(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,r){try{var o="",u=r;do o+=Re(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function Tc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Sc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var o_=typeof WeakMap=="function"?WeakMap:Map;function Fd(t,r,o){o=dr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){wl||(wl=!0,Uc=u),Sc(t,r)},o}function Ud(t,r,o){o=dr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Sc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Sc(t,r),typeof u!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function bd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new o_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=E_.bind(null,t,r,o),r.then(t,t))}function zd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Bd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=dr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t)}var a_=he.ReactCurrentOwner,Wt=!1;function zt(t,r,o,u){r.child=t===null?ad(r,null,o,u):Ts(r,t.child,o,u)}function jd(t,r,o,u,h){o=o.render;var p=r.ref;return Is(r,h),u=pc(t,r,o,u,p,h),o=mc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,pr(t,r,h)):(Ke&&o&&Yu(r),r.flags|=1,zt(t,r,u,h),r.child)}function $d(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!qc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Hd(t,r,p,u,h)):(t=Al(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(v,u)&&t.ref===r.ref)return pr(t,r,h)}return r.flags|=1,t=Hr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Hd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Ro(p,u)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,pr(t,r,h)}return Ic(t,r,o,u,h)}function qd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ps,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Ps,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,He(Ps,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,He(Ps,rn),rn|=u;return zt(t,r,h,o),r.child}function Wd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Ic(t,r,o,u,h){var p=qt(o)?wi:Vt.current;return p=_s(r,p),Is(r,h),o=pc(t,r,o,u,p,h),u=mc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,pr(t,r,h)):(Ke&&u&&Yu(r),r.flags|=1,zt(t,r,o,h),r.child)}function Qd(t,r,o,u,h){if(qt(o)){var p=!0;Ja(r)}else p=!1;if(Is(r,h),r.stateNode===null)gl(t,r),Od(r,o,u),wc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var P=v.context,B=o.contextType;typeof B=="object"&&B!==null?B=hn(B):(B=qt(o)?wi:Vt.current,B=_s(r,B));var X=o.getDerivedStateFromProps,Y=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==u||P!==B)&&Md(r,v,u,B),Fr=!1;var K=r.memoizedState;v.state=K,al(r,u,v,h),P=r.memoizedState,S!==u||K!==P||Ht.current||Fr?(typeof X=="function"&&(Ec(r,o,X,u),P=r.memoizedState),(S=Fr||Ld(r,o,S,u,K,P,B))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),v.props=u,v.state=P,v.context=B,u=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,ud(t,r),S=r.memoizedProps,B=r.type===r.elementType?S:Pn(r.type,S),v.props=B,Y=r.pendingProps,K=v.context,P=o.contextType,typeof P=="object"&&P!==null?P=hn(P):(P=qt(o)?wi:Vt.current,P=_s(r,P));var re=o.getDerivedStateFromProps;(X=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||K!==P)&&Md(r,v,u,P),Fr=!1,K=r.memoizedState,v.state=K,al(r,u,v,h);var le=r.memoizedState;S!==Y||K!==le||Ht.current||Fr?(typeof re=="function"&&(Ec(r,o,re,u),le=r.memoizedState),(B=Fr||Ld(r,o,B,u,K,le,P)||!1)?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,le,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,le,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),v.props=u,v.state=le,v.context=P,u=B):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),u=!1)}return Rc(t,r,o,u,p,h)}function Rc(t,r,o,u,h,p){Wd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Jf(r,o,!1),pr(t,r,p);u=r.stateNode,a_.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=Ts(r,t.child,null,p),r.child=Ts(r,null,S,p)):zt(t,r,S,p),r.memoizedState=u.state,h&&Jf(r,o,!0),r.child}function Kd(t){var r=t.stateNode;r.pendingContext?Xf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Xf(t,r.context,!1),lc(t,r.containerInfo)}function Gd(t,r,o,u,h){return ws(),tc(h),r.flags|=256,zt(t,r,o,u),r.child}var Cc={dehydrated:null,treeContext:null,retryLane:0};function Ac(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xd(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(h&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),He(Ge,h&1),t===null)return ec(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Pl(v,u,0,null),t=Vi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Ac(o),r.memoizedState=Cc,t):Pc(r,v));if(h=t.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return l_(t,r,v,u,S,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,S=h.sibling;var P={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Hr(h,P),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?p=Hr(S,p):(p=Vi(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?Ac(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Cc,u}return p=t.child,t=p.sibling,u=Hr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Pc(t,r){return r=Pl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ml(t,r,o,u){return u!==null&&tc(u),Ts(r,t.child,null,o),t=Pc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function l_(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=Tc(Error(n(422))),ml(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Pl({mode:"visible",children:u.children},h,0,null),p=Vi(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&Ts(r,t.child,null,v),r.child.memoizedState=Ac(v),r.memoizedState=Cc,p);if(!(r.mode&1))return ml(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=Tc(p,u,void 0),ml(t,r,v,u)}if(S=(v&t.childLanes)!==0,Wt||S){if(u=vt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,fr(t,h),Vn(u,t,h,-1))}return Hc(),u=Tc(Error(n(421))),ml(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=w_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Nr(h.nextSibling),tn=r,Ke=!0,An=null,t!==null&&(un[cn++]=cr,un[cn++]=hr,un[cn++]=Ti,cr=t.id,hr=t.overflow,Ti=r),r=Pc(r,u.children),r.flags|=4096,r)}function Yd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),sc(t.return,r,o)}function kc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Jd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(zt(t,r,u.children,o),u=Ge.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yd(t,o,r);else if(t.tag===19)Yd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Ge,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&ll(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),kc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ll(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}kc(r,!0,o,null,p);break;case"together":kc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ai|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Hr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Hr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function u_(t,r,o){switch(r.tag){case 3:Kd(r),ws();break;case 5:fd(r);break;case 1:qt(r.type)&&Ja(r);break;case 4:lc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;He(il,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Xd(t,r,o):(He(Ge,Ge.current&1),t=pr(t,r,o),t!==null?t.sibling:null);He(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Jd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,qd(t,r,o)}return pr(t,r,o)}var Zd,xc,ep,tp;Zd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},xc=function(){},ep=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ri(Bn.current);var p=null;switch(o){case"input":h=ii(t,h),u=ii(t,u),p=[];break;case"select":h=ie({},h,{value:void 0}),u=ie({},u,{value:void 0}),p=[];break;case"textarea":h=Zs(t,h),u=Zs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ga)}so(o,u);var v;o=null;for(B in h)if(!u.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var S=h[B];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in u){var P=u[B];if(S=h!=null?h[B]:void 0,u.hasOwnProperty(B)&&P!==S&&(P!=null||S!=null))if(B==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(o||(o={}),o[v]=P[v])}else o||(p||(p=[]),p.push(B,o)),o=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&qe("scroll",t),p||S===P||(p=[])):(p=p||[]).push(B,P))}o&&(p=p||[]).push("style",o);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},tp=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function c_(t,r,o){var u=r.pendingProps;switch(Ju(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return qt(r.type)&&Ya(),Nt(r),null;case 3:return u=r.stateNode,Rs(),We(Ht),We(Vt),hc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(nl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,An!==null&&(Bc(An),An=null))),xc(t,r),Nt(r),null;case 5:uc(r);var h=Ri(Oo.current);if(o=r.type,t!==null&&r.stateNode!=null)ep(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=Ri(Bn.current),nl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[zn]=r,u[xo]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(h=0;h<Ao.length;h++)qe(Ao[h],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":zi(u,p),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qe("invalid",u);break;case"textarea":ji(u,p),qe("invalid",u)}so(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&Ka(u.textContent,S,t),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Ka(u.textContent,S,t),h=["children",""+S]):a.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&qe("scroll",u)}switch(o){case"input":Jn(u),Ea(u,p,!0);break;case"textarea":Jn(u),eo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ga)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[zn]=r,t[xo]=u,Zd(t,r,!1,!1),r.stateNode=t;e:{switch(v=oo(o,u),o){case"dialog":qe("cancel",t),qe("close",t),h=u;break;case"iframe":case"object":case"embed":qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Ao.length;h++)qe(Ao[h],t);h=u;break;case"source":qe("error",t),h=u;break;case"img":case"image":case"link":qe("error",t),qe("load",t),h=u;break;case"details":qe("toggle",t),h=u;break;case"input":zi(t,u),h=ii(t,u),qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ie({},u,{value:void 0}),qe("invalid",t);break;case"textarea":ji(t,u),h=Zs(t,u),qe("invalid",t);break;default:h=u}so(o,h),S=h;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?ro(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&to(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Tr(t,P):typeof P=="number"&&Tr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&qe("scroll",t):P!=null&&ne(t,p,P,v))}switch(o){case"input":Jn(t),Ea(t,u,!1);break;case"textarea":Jn(t),eo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?er(t,!!u.multiple,p,!1):u.defaultValue!=null&&er(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ga)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)tp(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ri(Oo.current),Ri(Bn.current),nl(r)){if(u=r.stateNode,o=r.memoizedProps,u[zn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Ka(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ka(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[zn]=r,r.stateNode=u}return Nt(r),null;case 13:if(We(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))id(),ws(),r.flags|=98560,p=!1;else if(p=nl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[zn]=r}else ws(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else An!==null&&(Bc(An),An=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?ft===0&&(ft=3):Hc())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Rs(),xc(t,r),t===null&&Po(r.stateNode.containerInfo),Nt(r),null;case 10:return ic(r.type._context),Nt(r),null;case 17:return qt(r.type)&&Ya(),Nt(r),null;case 19:if(We(Ge),p=r.memoizedState,p===null)return Nt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)zo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=ll(t),v!==null){for(r.flags|=128,zo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>ks&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=ll(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ke)return Nt(r),null}else 2*$e()-p.renderingStartTime>ks&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ge.current,He(Ge,u?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return $c(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function h_(t,r){switch(Ju(r),r.tag){case 1:return qt(r.type)&&Ya(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Rs(),We(Ht),We(Vt),hc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return uc(r),null;case 13:if(We(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ws()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ge),null;case 4:return Rs(),null;case 10:return ic(r.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var yl=!1,Lt=!1,f_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function As(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ze(t,r,u)}else o.current=null}function Vc(t,r,o){try{o()}catch(u){Ze(t,r,u)}}var np=!1;function d_(t,r){if($u=xr,t=Lf(),Ou(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,S=-1,P=-1,B=0,X=0,Y=t,K=null;t:for(;;){for(var re;Y!==o||h!==0&&Y.nodeType!==3||(S=v+h),Y!==p||u!==0&&Y.nodeType!==3||(P=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(re=Y.firstChild)!==null;)K=Y,Y=re;for(;;){if(Y===t)break t;if(K===o&&++B===h&&(S=v),K===p&&++X===u&&(P=v),(re=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=re}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hu={focusedElem:t,selectionRange:o},xr=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var le=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,rt=le.memoizedState,F=r.stateNode,V=F.getSnapshotBeforeUpdate(r.elementType===r.type?ue:Pn(r.type,ue),rt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){Ze(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return le=np,np=!1,le}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Vc(r,o,p)}h=h.next}while(h!==u)}}function _l(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Dc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function rp(t){var r=t.alternate;r!==null&&(t.alternate=null,rp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[zn],delete r[xo],delete r[Ku],delete r[Gy],delete r[Xy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ip(t){return t.tag===5||t.tag===3||t.tag===4}function sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ga));else if(u!==4&&(t=t.child,t!==null))for(Nc(t,r,o),t=t.sibling;t!==null;)Nc(t,r,o),t=t.sibling}function Lc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Lc(t,r,o),t=t.sibling;t!==null;)Lc(t,r,o),t=t.sibling}var It=null,kn=!1;function br(t,r,o){for(o=o.child;o!==null;)op(t,r,o),o=o.sibling}function op(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(di,o)}catch{}switch(o.tag){case 5:Lt||As(o,r);case 6:var u=It,h=kn;It=null,br(t,r,o),It=u,kn=h,It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?Qu(t.parentNode,o):t.nodeType===1&&Qu(t,o),In(t)):Qu(It,o.stateNode));break;case 4:u=It,h=kn,It=o.stateNode.containerInfo,kn=!0,br(t,r,o),It=u,kn=h;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Vc(o,r,v),h=h.next}while(h!==u)}br(t,r,o);break;case 1:if(!Lt&&(As(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Ze(o,r,S)}br(t,r,o);break;case 21:br(t,r,o);break;case 22:o.mode&1?(Lt=(u=Lt)||o.memoizedState!==null,br(t,r,o),Lt=u):br(t,r,o);break;default:br(t,r,o)}}function ap(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new f_),r.forEach(function(u){var h=T_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:It=S.stateNode,kn=!1;break e;case 3:It=S.stateNode.containerInfo,kn=!0;break e;case 4:It=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(It===null)throw Error(n(160));op(p,v,h),It=null,kn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(B){Ze(h,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)lp(r,t),r=r.sibling}function lp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),u&4){try{Bo(3,t,t.return),_l(3,t)}catch(ue){Ze(t,t.return,ue)}try{Bo(5,t,t.return)}catch(ue){Ze(t,t.return,ue)}}break;case 1:xn(r,t),$n(t),u&512&&o!==null&&As(o,o.return);break;case 5:if(xn(r,t),$n(t),u&512&&o!==null&&As(o,o.return),t.flags&32){var h=t.stateNode;try{Tr(h,"")}catch(ue){Ze(t,t.return,ue)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Ys(h,p),oo(S,v);var B=oo(S,p);for(v=0;v<P.length;v+=2){var X=P[v],Y=P[v+1];X==="style"?ro(h,Y):X==="dangerouslySetInnerHTML"?to(h,Y):X==="children"?Tr(h,Y):ne(h,X,Y,B)}switch(S){case"input":Js(h,p);break;case"textarea":$i(h,p);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?er(h,!!p.multiple,re,!1):K!==!!p.multiple&&(p.defaultValue!=null?er(h,!!p.multiple,p.defaultValue,!0):er(h,!!p.multiple,p.multiple?[]:"",!1))}h[xo]=p}catch(ue){Ze(t,t.return,ue)}}break;case 6:if(xn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ue){Ze(t,t.return,ue)}}break;case 3:if(xn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(ue){Ze(t,t.return,ue)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Fc=$e())),u&4&&ap(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(B=Lt)||X,xn(r,t),Lt=B):xn(r,t),$n(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!X&&t.mode&1)for(ae=t,X=t.child;X!==null;){for(Y=ae=X;ae!==null;){switch(K=ae,re=K.child,K.tag){case 0:case 11:case 14:case 15:Bo(4,K,K.return);break;case 1:As(K,K.return);var le=K.stateNode;if(typeof le.componentWillUnmount=="function"){u=K,o=K.return;try{r=u,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ue){Ze(u,o,ue)}}break;case 5:As(K,K.return);break;case 22:if(K.memoizedState!==null){hp(Y);continue}}re!==null?(re.return=K,ae=re):hp(Y)}X=X.sibling}e:for(X=null,Y=t;;){if(Y.tag===5){if(X===null){X=Y;try{h=Y.stateNode,B?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=Y.stateNode,P=Y.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=no("display",v))}catch(ue){Ze(t,t.return,ue)}}}else if(Y.tag===6){if(X===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(ue){Ze(t,t.return,ue)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;X===Y&&(X=null),Y=Y.return}X===Y&&(X=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:xn(r,t),$n(t),u&4&&ap(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(ip(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Tr(h,""),u.flags&=-33);var p=sp(t);Lc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,S=sp(t);Nc(t,S,v);break;default:throw Error(n(161))}}catch(P){Ze(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function p_(t,r,o){ae=t,up(t)}function up(t,r,o){for(var u=(t.mode&1)!==0;ae!==null;){var h=ae,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||yl;if(!v){var S=h.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=yl;var B=Lt;if(yl=v,(Lt=P)&&!B)for(ae=h;ae!==null;)v=ae,P=v.child,v.tag===22&&v.memoizedState!==null?fp(h):P!==null?(P.return=v,ae=P):fp(h);for(;p!==null;)ae=p,up(p),p=p.sibling;ae=h,yl=S,Lt=B}cp(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ae=p):cp(t)}}function cp(t){for(;ae!==null;){var r=ae;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||_l(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Lt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&hd(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}hd(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Y=X.dehydrated;Y!==null&&In(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Dc(r)}catch(K){Ze(r,r.return,K)}}if(r===t){ae=null;break}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}}function hp(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ae=o;break}ae=r.return}}function fp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{_l(4,r)}catch(P){Ze(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(P){Ze(r,h,P)}}var p=r.return;try{Dc(r)}catch(P){Ze(r,p,P)}break;case 5:var v=r.return;try{Dc(r)}catch(P){Ze(r,v,P)}}}catch(P){Ze(r,r.return,P)}if(r===t){ae=null;break}var S=r.sibling;if(S!==null){S.return=r.return,ae=S;break}ae=r.return}}var m_=Math.ceil,vl=he.ReactCurrentDispatcher,Oc=he.ReactCurrentOwner,dn=he.ReactCurrentBatchConfig,Le=0,vt=null,ot=null,Rt=0,rn=0,Ps=Lr(0),ft=0,jo=null,Ai=0,El=0,Mc=0,$o=null,Qt=null,Fc=0,ks=1/0,mr=null,wl=!1,Uc=null,zr=null,Tl=!1,Br=null,Sl=0,Ho=0,bc=null,Il=-1,Rl=0;function Bt(){return Le&6?$e():Il!==-1?Il:Il=$e()}function jr(t){return t.mode&1?Le&2&&Rt!==0?Rt&-Rt:Jy.transition!==null?(Rl===0&&(Rl=mi()),Rl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t):1}function Vn(t,r,o,u){if(50<Ho)throw Ho=0,bc=null,Error(n(185));Cr(t,o,u),(!(Le&2)||t!==vt)&&(t===vt&&(!(Le&2)&&(El|=o),ft===4&&$r(t,Rt)),Kt(t,u),o===1&&Le===0&&!(r.mode&1)&&(ks=$e()+500,Za&&Mr()))}function Kt(t,r){var o=t.callbackNode;rr(t,r);var u=pi(t,t===vt?Rt:0);if(u===0)o!==null&&fo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&fo(o),r===1)t.tag===0?Yy(pp.bind(null,t)):Zf(pp.bind(null,t)),Qy(function(){!(Le&6)&&Mr()}),o=null;else{switch(Pr(u)){case 1:o=fi;break;case 4:o=Sr;break;case 16:o=on;break;case 536870912:o=Ra;break;default:o=on}o=Tp(o,dp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function dp(t,r){if(Il=-1,Rl=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(xs()&&t.callbackNode!==o)return null;var u=pi(t,t===vt?Rt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Cl(t,u);else{r=u;var h=Le;Le|=2;var p=gp();(vt!==t||Rt!==r)&&(mr=null,ks=$e()+500,ki(t,r));do try{__();break}catch(S){mp(t,S)}while(!0);rc(),vl.current=p,Le=h,ot!==null?r=0:(vt=null,Rt=0,r=ft)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=zc(t,h))),r===1)throw o=jo,ki(t,0),$r(t,u),Kt(t,$e()),o;if(r===6)$r(t,u);else{if(h=t.current.alternate,!(u&30)&&!g_(h)&&(r=Cl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=zc(t,p))),r===1))throw o=jo,ki(t,0),$r(t,u),Kt(t,$e()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:xi(t,Qt,mr);break;case 3:if($r(t,u),(u&130023424)===u&&(r=Fc+500-$e(),10<r)){if(pi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Wu(xi.bind(null,t,Qt,mr),r);break}xi(t,Qt,mr);break;case 4:if($r(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Ut(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*m_(u/1960))-u,10<u){t.timeoutHandle=Wu(xi.bind(null,t,Qt,mr),u);break}xi(t,Qt,mr);break;case 5:xi(t,Qt,mr);break;default:throw Error(n(329))}}}return Kt(t,$e()),t.callbackNode===o?dp.bind(null,t):null}function zc(t,r){var o=$o;return t.current.memoizedState.isDehydrated&&(ki(t,r).flags|=256),t=Cl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Bc(r)),t}function Bc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function g_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Cn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~Mc,r&=~El,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function pp(t){if(Le&6)throw Error(n(327));xs();var r=pi(t,0);if(!(r&1))return Kt(t,$e()),null;var o=Cl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=zc(t,u))}if(o===1)throw o=jo,ki(t,0),$r(t,r),Kt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,xi(t,Qt,mr),Kt(t,$e()),null}function jc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(ks=$e()+500,Za&&Mr())}}function Pi(t){Br!==null&&Br.tag===0&&!(Le&6)&&xs();var r=Le;Le|=1;var o=dn.transition,u=Pe;try{if(dn.transition=null,Pe=1,t)return t()}finally{Pe=u,dn.transition=o,Le=r,!(Le&6)&&Mr()}}function $c(){rn=Ps.current,We(Ps)}function ki(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Wy(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(Ju(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ya();break;case 3:Rs(),We(Ht),We(Vt),hc();break;case 5:uc(u);break;case 4:Rs();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:ic(u.type._context);break;case 22:case 23:$c()}o=o.return}if(vt=t,ot=t=Hr(t.current,null),Rt=rn=r,ft=0,jo=null,Mc=El=Ai=0,Qt=$o=null,Ii!==null){for(r=0;r<Ii.length;r++)if(o=Ii[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}Ii=null}return t}function mp(t,r){do{var o=ot;try{if(rc(),ul.current=dl,cl){for(var u=Xe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}cl=!1}if(Ci=0,_t=ht=Xe=null,Mo=!1,Fo=0,Oc.current=null,o===null||o.return===null){ft=1,jo=r,ot=null;break}e:{var p=t,v=o.return,S=o,P=r;if(r=Rt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,X=S,Y=X.tag;if(!(X.mode&1)&&(Y===0||Y===11||Y===15)){var K=X.alternate;K?(X.updateQueue=K.updateQueue,X.memoizedState=K.memoizedState,X.lanes=K.lanes):(X.updateQueue=null,X.memoizedState=null)}var re=zd(v);if(re!==null){re.flags&=-257,Bd(re,v,S,p,r),re.mode&1&&bd(p,B,r),r=re,P=B;var le=r.updateQueue;if(le===null){var ue=new Set;ue.add(P),r.updateQueue=ue}else le.add(P);break e}else{if(!(r&1)){bd(p,B,r),Hc();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var rt=zd(v);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Bd(rt,v,S,p,r),tc(Cs(P,S));break e}}p=P=Cs(P,S),ft!==4&&(ft=2),$o===null?$o=[p]:$o.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=Fd(p,P,r);cd(p,F);break e;case 1:S=P;var V=p.type,b=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zr===null||!zr.has(b)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Ud(p,S,r);cd(p,Z);break e}}p=p.return}while(p!==null)}_p(o)}catch(ce){r=ce,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function gp(){var t=vl.current;return vl.current=dl,t===null?dl:t}function Hc(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(Ai&268435455)&&!(El&268435455)||$r(vt,Rt)}function Cl(t,r){var o=Le;Le|=2;var u=gp();(vt!==t||Rt!==r)&&(mr=null,ki(t,r));do try{y_();break}catch(h){mp(t,h)}while(!0);if(rc(),Le=o,vl.current=u,ot!==null)throw Error(n(261));return vt=null,Rt=0,ft}function y_(){for(;ot!==null;)yp(ot)}function __(){for(;ot!==null&&!Sa();)yp(ot)}function yp(t){var r=wp(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?_p(t):ot=r,Oc.current=null}function _p(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=h_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=c_(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function xi(t,r,o){var u=Pe,h=dn.transition;try{dn.transition=null,Pe=1,v_(t,r,o,u)}finally{dn.transition=h,Pe=u}return null}function v_(t,r,o,u){do xs();while(Br!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Be(t,p),t===vt&&(ot=vt=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Tl||(Tl=!0,Tp(on,function(){return xs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var v=Pe;Pe=1;var S=Le;Le|=4,Oc.current=null,d_(t,o),lp(o,t),by(Hu),xr=!!$u,Hu=$u=null,t.current=o,p_(o),Au(),Le=S,Pe=v,dn.transition=p}else t.current=o;if(Tl&&(Tl=!1,Br=t,Sl=h),p=t.pendingLanes,p===0&&(zr=null),Ca(o.stateNode),Kt(t,$e()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(wl)throw wl=!1,t=Uc,Uc=null,t;return Sl&1&&t.tag!==0&&xs(),p=t.pendingLanes,p&1?t===bc?Ho++:(Ho=0,bc=t):Ho=0,Mr(),null}function xs(){if(Br!==null){var t=Pr(Sl),r=dn.transition,o=Pe;try{if(dn.transition=null,Pe=16>t?16:t,Br===null)var u=!1;else{if(t=Br,Br=null,Sl=0,Le&6)throw Error(n(331));var h=Le;for(Le|=4,ae=t.current;ae!==null;){var p=ae,v=p.child;if(ae.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var B=S[P];for(ae=B;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:Bo(8,X,p)}var Y=X.child;if(Y!==null)Y.return=X,ae=Y;else for(;ae!==null;){X=ae;var K=X.sibling,re=X.return;if(rp(X),X===B){ae=null;break}if(K!==null){K.return=re,ae=K;break}ae=re}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var rt=ue.sibling;ue.sibling=null,ue=rt}while(ue!==null)}}ae=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,ae=v;else e:for(;ae!==null;){if(p=ae,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,ae=F;break e}ae=p.return}}var V=t.current;for(ae=V;ae!==null;){v=ae;var b=v.child;if(v.subtreeFlags&2064&&b!==null)b.return=v,ae=b;else e:for(v=V;ae!==null;){if(S=ae,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:_l(9,S)}}catch(ce){Ze(S,S.return,ce)}if(S===v){ae=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,ae=Z;break e}ae=S.return}}if(Le=h,Mr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(di,t)}catch{}u=!0}return u}finally{Pe=o,dn.transition=r}}return!1}function vp(t,r,o){r=Cs(o,r),r=Fd(t,r,1),t=Ur(t,r,1),r=Bt(),t!==null&&(Cr(t,1,r),Kt(t,r))}function Ze(t,r,o){if(t.tag===3)vp(t,t,o);else for(;r!==null;){if(r.tag===3){vp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zr===null||!zr.has(u))){t=Cs(o,t),t=Ud(r,t,1),r=Ur(r,t,1),t=Bt(),r!==null&&(Cr(r,1,t),Kt(r,t));break}}r=r.return}}function E_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Bt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(Rt&o)===o&&(ft===4||ft===3&&(Rt&130023424)===Rt&&500>$e()-Fc?ki(t,0):Mc|=o),Kt(t,r)}function Ep(t,r){r===0&&(t.mode&1?(r=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):r=1);var o=Bt();t=fr(t,r),t!==null&&(Cr(t,r,o),Kt(t,o))}function w_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Ep(t,o)}function T_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Ep(t,o)}var wp;wp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,u_(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Ke&&r.flags&1048576&&ed(r,tl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;gl(t,r),t=r.pendingProps;var h=_s(r,Vt.current);Is(r,o),h=pc(null,r,u,t,h,o);var p=mc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,Ja(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ac(r),h.updater=pl,r.stateNode=h,h._reactInternals=r,wc(r,u,t,o),r=Rc(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&Yu(r),zt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(gl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=I_(u),t=Pn(u,t),h){case 0:r=Ic(null,r,u,t,o);break e;case 1:r=Qd(null,r,u,t,o);break e;case 11:r=jd(null,r,u,t,o);break e;case 14:r=$d(null,r,u,Pn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Ic(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Qd(t,r,u,h,o);case 3:e:{if(Kd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,ud(t,r),al(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Cs(Error(n(423)),r),r=Gd(t,r,u,o,h);break e}else if(u!==h){h=Cs(Error(n(424)),r),r=Gd(t,r,u,o,h);break e}else for(nn=Nr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,An=null,o=ad(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ws(),u===h){r=pr(t,r,o);break e}zt(t,r,u,o)}r=r.child}return r;case 5:return fd(r),t===null&&ec(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,qu(u,h)?v=null:p!==null&&qu(u,p)&&(r.flags|=32),Wd(t,r),zt(t,r,v,o),r.child;case 6:return t===null&&ec(r),null;case 13:return Xd(t,r,o);case 4:return lc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ts(r,null,u,o):zt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),jd(t,r,u,h,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,He(il,u._currentValue),u._currentValue=v,p!==null)if(Cn(p.value,v)){if(p.children===h.children&&!Ht.current){r=pr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=dr(-1,o&-o),P.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?P.next=P:(P.next=X.next,X.next=P),B.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),sc(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),sc(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}zt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Is(r,o),h=hn(h),u=u(h),r.flags|=1,zt(t,r,u,o),r.child;case 14:return u=r.type,h=Pn(u,r.pendingProps),h=Pn(u.type,h),$d(t,r,u,h,o);case 15:return Hd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),gl(t,r),r.tag=1,qt(u)?(t=!0,Ja(r)):t=!1,Is(r,o),Od(r,u,h),wc(r,u,h,o),Rc(null,r,u,!0,t,o);case 19:return Jd(t,r,o);case 22:return qd(t,r,o)}throw Error(n(156,r.tag))};function Tp(t,r){return Yi(t,r)}function S_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new S_(t,r,o,u)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I_(t){if(typeof t=="function")return qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===kt)return 14}return 2}function Hr(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Al(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")qc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case k:return Vi(o.children,h,p,r);case T:v=8,h|=8;break;case I:return t=pn(12,o,r,h|2),t.elementType=I,t.lanes=p,t;case R:return t=pn(13,o,r,h),t.elementType=R,t.lanes=p,t;case tt:return t=pn(19,o,r,h),t.elementType=tt,t.lanes=p,t;case ze:return Pl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:v=10;break e;case D:v=9;break e;case L:v=11;break e;case kt:v=14;break e;case xt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Vi(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function Pl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=ze,t.lanes=o,t.stateNode={isHidden:!1},t}function Wc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Qc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function R_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Kc(t,r,o,u,h,p,v,S,P){return t=new R_(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(p),t}function C_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Sp(t){if(!t)return Or;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return Yf(t,o,r)}return r}function Ip(t,r,o,u,h,p,v,S,P){return t=Kc(o,u,!0,t,h,p,v,S,P),t.context=Sp(null),o=t.current,u=Bt(),h=jr(o),p=dr(u,h),p.callback=r??null,Ur(o,p,h),t.current.lanes=h,Cr(t,h,u),Kt(t,u),t}function kl(t,r,o,u){var h=r.current,p=Bt(),v=jr(h);return o=Sp(o),r.context===null?r.context=o:r.pendingContext=o,r=dr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ur(h,r,v),t!==null&&(Vn(t,h,v,p),ol(t,h,v)),v}function xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Gc(t,r){Rp(t,r),(t=t.alternate)&&Rp(t,r)}var Cp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xc(t){this._internalRoot=t}Vl.prototype.render=Xc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));kl(t,r,null,null)},Vl.prototype.unmount=Xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Pi(function(){kl(null,t,null,null)}),r[lr]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Va();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&La(t)}};function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function A_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var B=xl(v);p.call(B)}}var v=Ip(r,u,t,0,null,!1,!1,"",Ap);return t._reactRootContainer=v,t[lr]=v.current,Po(t.nodeType===8?t.parentNode:t),Pi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var B=xl(P);S.call(B)}}var P=Kc(t,0,!1,null,null,!1,!1,"",Ap);return t._reactRootContainer=P,t[lr]=P.current,Po(t.nodeType===8?t.parentNode:t),Pi(function(){kl(r,P,o,u)}),P}function Nl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var S=h;h=function(){var P=xl(v);S.call(P)}}kl(r,v,t,h)}else v=A_(o,r,t,h,u);return xl(v)}ka=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Ar(r,o|1),Kt(r,$e()),!(Le&6)&&(ks=$e()+500,Mr()))}break;case 13:Pi(function(){var u=fr(t,1);if(u!==null){var h=Bt();Vn(u,t,1,h)}}),Gc(t,1)}},es=function(t){if(t.tag===13){var r=fr(t,134217728);if(r!==null){var o=Bt();Vn(r,t,134217728,o)}Gc(t,134217728)}},xa=function(t){if(t.tag===13){var r=jr(t),o=fr(t,r);if(o!==null){var u=Bt();Vn(o,t,r,u)}Gc(t,r)}},Va=function(){return Pe},Da=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},qi=function(t,r,o){switch(r){case"input":if(Js(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Xa(u);if(!h)throw Error(n(90));bi(u),Js(u,h)}}}break;case"textarea":$i(t,o);break;case"select":r=o.value,r!=null&&er(t,!!o.multiple,r,!1)}},li=jc,lo=Pi;var P_={usingClientEntryPoint:!1,Events:[Vo,gs,Xa,Ln,ao,jc]},qo={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k_={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ho(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{di=Ll.inject(k_),Yt=Ll}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P_,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(r))throw Error(n(200));return C_(t,r,null,o)},Gt.createRoot=function(t,r){if(!Yc(t))throw Error(n(299));var o=!1,u="",h=Cp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Kc(t,1,!1,null,null,o,!1,u,h),t[lr]=r.current,Po(t.nodeType===8?t.parentNode:t),new Xc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ho(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Pi(t)},Gt.hydrate=function(t,r,o){if(!Dl(r))throw Error(n(200));return Nl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Yc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=Cp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Ip(r,null,t,1,o??null,h,!1,p,v),t[lr]=r.current,Po(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Vl(r)},Gt.render=function(t,r,o){if(!Dl(r))throw Error(n(200));return Nl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Dl(t))throw Error(n(40));return t._reactRootContainer?(Pi(function(){Nl(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1},Gt.unstable_batchedUpdates=jc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Dl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Nl(t,r,o,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Op;function F_(){if(Op)return eh.exports;Op=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),eh.exports=M_(),eh.exports}var Mp;function U_(){if(Mp)return Ol;Mp=1;var i=F_();return Ol.createRoot=i.createRoot,Ol.hydrateRoot=i.hydrateRoot,Ol}var b_=U_(),Qo={},Fp;function z_(){if(Fp)return Qo;Fp=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.parse=f,Qo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,O){const U=new c,$=A.length;if($<2)return U;const z=(O==null?void 0:O.decode)||w;let q=0;do{const G=A.indexOf("=",q);if(G===-1)break;const ne=A.indexOf(";",q),he=ne===-1?$:ne;if(G>he){q=A.lastIndexOf(";",G-1)+1;continue}const Te=m(A,q,G),_e=g(A,G,Te),k=A.slice(Te,_e);if(U[k]===void 0){let T=m(A,G+1,he),I=g(A,he,T);const x=z(A.slice(T,I));U[k]=x}q=he+1}while(q<$);return U}function m(A,O,U){do{const $=A.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<U);return U}function g(A,O,U){for(;O>U;){const $=A.charCodeAt(--O);if($!==32&&$!==9)return O+1}return U}function _(A,O,U){const $=(U==null?void 0:U.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const z=$(O);if(!e.test(z))throw new TypeError(`argument val is invalid: ${O}`);let q=A+"="+z;if(!U)return q;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);q+="; Max-Age="+U.maxAge}if(U.domain){if(!n.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);q+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);q+="; Path="+U.path}if(U.expires){if(!C(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);q+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(q+="; HttpOnly"),U.secure&&(q+="; Secure"),U.partitioned&&(q+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return q}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function C(A){return a.call(A)==="[object Date]"}return Qo}z_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Up="popstate";function B_(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return mh("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:na(a)}return $_(e,n,null,i)}function Ye(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j_(){return Math.random().toString(36).substring(2,10)}function bp(i,e){return{usr:i.state,key:i.key,idx:e}}function mh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Hs(e):e,state:n,key:e&&e.key||s||j_()}}function na({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Hs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function $_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",g=null,_=w();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function w(){return(f.state||{idx:null}).idx}function C(){m="POP";let z=w(),q=z==null?null:z-_;_=z,g&&g({action:m,location:$.location,delta:q})}function A(z,q){m="PUSH";let G=mh($.location,z,q);_=w()+1;let ne=bp(G,_),he=$.createHref(G);try{f.pushState(ne,"",he)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;a.location.assign(he)}c&&g&&g({action:m,location:$.location,delta:1})}function O(z,q){m="REPLACE";let G=mh($.location,z,q);_=w();let ne=bp(G,_),he=$.createHref(G);f.replaceState(ne,"",he),c&&g&&g({action:m,location:$.location,delta:0})}function U(z){let q=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof z=="string"?z:na(z);return G=G.replace(/ $/,"%20"),Ye(q,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,q)}let $={get action(){return m},get location(){return i(a,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Up,C),g=z,()=>{a.removeEventListener(Up,C),g=null}},createHref(z){return e(a,z)},createURL:U,encodeLocation(z){let q=U(z);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:O,go(z){return f.go(z)}};return $}function Um(i,e,n="/"){return H_(i,e,n,!1)}function H_(i,e,n,s){let a=typeof e=="string"?Hs(e):e,c=Yr(a.pathname||"/",n);if(c==null)return null;let f=bm(i);q_(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let _=nv(c);m=ev(f[g],_,s)}return m}function bm(i,e=[],n=[],s=""){let a=(c,f,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=gr([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Ye(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),bm(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:J_(_,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let g of zm(c.path))a(c,f,g)}),e}function zm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=zm(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function q_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Z_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var W_=/^:[\w-]+$/,Q_=3,K_=2,G_=1,X_=10,Y_=-2,zp=i=>i==="*";function J_(i,e){let n=i.split("/"),s=n.length;return n.some(zp)&&(s+=Y_),e&&(s+=K_),n.filter(a=>!zp(a)).reduce((a,c)=>a+(W_.test(c)?Q_:c===""?G_:X_),s)}function Z_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function ev(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",C=Xl({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},w),A=g.route;if(!C&&_&&n&&!s[s.length-1].route.index&&(C=Xl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!C)return null;Object.assign(a,C.params),f.push({params:a,pathname:gr([c,C.pathname]),pathnameBase:ov(gr([c,C.pathnameBase])),route:A}),C.pathnameBase!=="/"&&(c=gr([c,C.pathnameBase]))}return f}function Xl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=tv(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:C},A)=>{if(w==="*"){let U=m[A]||"";f=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const O=m[A];return C&&!O?_[w]=void 0:_[w]=(O||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function tv(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function nv(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function rv(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Hs(i):i;return{pathname:n?n.startsWith("/")?n:iv(n,e):e,search:av(s),hash:lv(a)}}function iv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function rh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sv(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bm(i){let e=sv(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jm(i,e,n,s=!1){let a;typeof i=="string"?a=Hs(i):(a={...i},Ye(!a.pathname||!a.pathname.includes("?"),rh("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),rh("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),rh("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let C=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),C-=1;a.pathname=A.join("/")}m=C>=0?e[C]:"/"}let g=rv(a,m),_=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}var gr=i=>i.join("/").replace(/\/\/+/g,"/"),ov=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),av=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function uv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var $m=["POST","PUT","PATCH","DELETE"];new Set($m);var cv=["GET",...$m];new Set(cv);var qs=H.createContext(null);qs.displayName="DataRouter";var fu=H.createContext(null);fu.displayName="DataRouterState";var Hm=H.createContext({isTransitioning:!1});Hm.displayName="ViewTransition";var hv=H.createContext(new Map);hv.displayName="Fetchers";var fv=H.createContext(null);fv.displayName="Await";var Xn=H.createContext(null);Xn.displayName="Navigation";var da=H.createContext(null);da.displayName="Location";var Yn=H.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var Uh=H.createContext(null);Uh.displayName="RouteError";function dv(i,{relative:e}={}){Ye(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Xn),{hash:a,pathname:c,search:f}=ma(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:gr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function pa(){return H.useContext(da)!=null}function ri(){return Ye(pa(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(da).location}var qm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wm(i){H.useContext(Xn).static||H.useLayoutEffect(i)}function bh(){let{isDataRoute:i}=H.useContext(Yn);return i?Av():pv()}function pv(){Ye(pa(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(qs),{basename:e,navigator:n}=H.useContext(Xn),{matches:s}=H.useContext(Yn),{pathname:a}=ri(),c=JSON.stringify(Bm(s)),f=H.useRef(!1);return Wm(()=>{f.current=!0}),H.useCallback((g,_={})=>{if(Qn(f.current,qm),!f.current)return;if(typeof g=="number"){n.go(g);return}let w=jm(g,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:gr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,c,a,i])}H.createContext(null);function mv(){let{matches:i}=H.useContext(Yn),e=i[i.length-1];return e?e.params:{}}function ma(i,{relative:e}={}){let{matches:n}=H.useContext(Yn),{pathname:s}=ri(),a=JSON.stringify(Bm(n));return H.useMemo(()=>jm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function gv(i,e){return Qm(i,e)}function Qm(i,e,n,s){var q;Ye(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=H.useContext(Xn),{matches:c}=H.useContext(Yn),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",w=f&&f.route;{let G=w&&w.path||"";Km(g,!w||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let C=ri(),A;if(e){let G=typeof e=="string"?Hs(e):e;Ye(_==="/"||((q=G.pathname)==null?void 0:q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),A=G}else A=C;let O=A.pathname||"/",U=O;if(_!=="/"){let G=_.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let $=Um(i,{pathname:U});Qn(w||$!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Qn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=wv($&&$.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:gr([_,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:gr([_,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,n,s);return e&&z?H.createElement(da.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function yv(){let i=Cv(),e=uv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,f)}var _v=H.createElement(yv,null),vv=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(Yn.Provider,{value:this.props.routeContext},H.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ev({routeContext:i,match:e,children:n}){let s=H.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Yn.Provider,{value:i},n)}function wv(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:w,errors:C}=n,A=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||A){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,_,w)=>{let C,A=!1,O=null,U=null;n&&(C=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||_v,f&&(m<0&&w===0?(Km("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):m===w&&(A=!0,U=_.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),z=()=>{let q;return C?q=O:A?q=U:_.route.Component?q=H.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=g,H.createElement(Ev,{match:_,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?H.createElement(vv,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:z(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):z()},null)}function zh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tv(i){let e=H.useContext(qs);return Ye(e,zh(i)),e}function Sv(i){let e=H.useContext(fu);return Ye(e,zh(i)),e}function Iv(i){let e=H.useContext(Yn);return Ye(e,zh(i)),e}function Bh(i){let e=Iv(i),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Rv(){return Bh("useRouteId")}function Cv(){var s;let i=H.useContext(Uh),e=Sv("useRouteError"),n=Bh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Av(){let{router:i}=Tv("useNavigate"),e=Bh("useNavigate"),n=H.useRef(!1);return Wm(()=>{n.current=!0}),H.useCallback(async(a,c={})=>{Qn(n.current,qm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var Bp={};function Km(i,e,n){!e&&!Bp[i]&&(Bp[i]=!0,Qn(!1,n))}H.memo(Pv);function Pv({routes:i,future:e,state:n}){return Qm(i,void 0,n,e)}function jl(i){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kv({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Ye(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=Hs(n));let{pathname:g="/",search:_="",hash:w="",state:C=null,key:A="default"}=n,O=H.useMemo(()=>{let U=Yr(g,f);return U==null?null:{location:{pathname:U,search:_,hash:w,state:C,key:A},navigationType:s}},[f,g,_,w,C,A,s]);return Qn(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:H.createElement(Xn.Provider,{value:m},H.createElement(da.Provider,{children:e,value:O}))}function xv({children:i,location:e}){return gv(gh(i),e)}function gh(i,e=[]){let n=[];return H.Children.forEach(i,(s,a)=>{if(!H.isValidElement(s))return;let c=[...e,a];if(s.type===H.Fragment){n.push.apply(n,gh(s.props.children,c));return}Ye(s.type===jl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=gh(s.props.children,c)),n.push(f)}),n}var $l="get",Hl="application/x-www-form-urlencoded";function du(i){return i!=null&&typeof i.tagName=="string"}function Vv(i){return du(i)&&i.tagName.toLowerCase()==="button"}function Dv(i){return du(i)&&i.tagName.toLowerCase()==="form"}function Nv(i){return du(i)&&i.tagName.toLowerCase()==="input"}function Lv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ov(i,e){return i.button===0&&(!e||e==="_self")&&!Lv(i)}var Ml=null;function Mv(){if(Ml===null)try{new FormData(document.createElement("form"),0),Ml=!1}catch{Ml=!0}return Ml}var Fv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ih(i){return i!=null&&!Fv.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hl}"`),null):i}function Uv(i,e){let n,s,a,c,f;if(Dv(i)){let m=i.getAttribute("action");s=m?Yr(m,e):null,n=i.getAttribute("method")||$l,a=ih(i.getAttribute("enctype"))||Hl,c=new FormData(i)}else if(Vv(i)||Nv(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Yr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$l,a=ih(i.getAttribute("formenctype"))||ih(m.getAttribute("enctype"))||Hl,c=new FormData(m,i),!Mv()){let{name:_,type:w,value:C}=i;if(w==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,C)}}else{if(du(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$l,s=null,a=Hl,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function jh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function bv(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Bv(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await bv(c,n);return f.links?f.links():[]}return[]}));return qv(s.flat(1).filter(zv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function jp(i,e,n,s,a,c){let f=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>{var w;return n[_].pathname!==g.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,_)=>f(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{var C;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(f(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function jv(i,e){return $v(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function $v(i){return[...new Set(i)]}function Hv(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function qv(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(Hv(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function Wv(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Qv(){let i=H.useContext(qs);return jh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Kv(){let i=H.useContext(fu);return jh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var $h=H.createContext(void 0);$h.displayName="FrameworkContext";function Gm(){let i=H.useContext($h);return jh(i,"You must render this element inside a <HydratedRouter> element"),i}function Gv(i,e){let n=H.useContext($h),[s,a]=H.useState(!1),[c,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:w,onTouchStart:C}=e,A=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=q=>{q.forEach(G=>{f(G.isIntersecting)})},z=new IntersectionObserver($,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[i]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{a(!0)},U=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,A,{}]:[c,A,{onFocus:Ko(m,O),onBlur:Ko(g,U),onMouseEnter:Ko(_,O),onMouseLeave:Ko(w,U),onTouchStart:Ko(C,O)}]:[!1,A,{}]}function Ko(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Xv({page:i,...e}){let{router:n}=Qv(),s=H.useMemo(()=>Um(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(Jv,{page:i,matches:s,...e}):null}function Yv(i){let{manifest:e,routeModules:n}=Gm(),[s,a]=H.useState([]);return H.useEffect(()=>{let c=!1;return Bv(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function Jv({page:i,matches:e,...n}){let s=ri(),{manifest:a,routeModules:c}=Gm(),{loaderData:f,matches:m}=Kv(),g=H.useMemo(()=>jp(i,e,m,a,s,"data"),[i,e,m,a,s]),_=H.useMemo(()=>jp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,U=!1;if(e.forEach(z=>{var G;let q=a.routes[z.route.id];!q||!q.hasLoader||(!g.some(ne=>ne.route.id===z.route.id)&&z.route.id in f&&((G=c[z.route.id])!=null&&G.shouldRevalidate)||q.hasClientLoader?U=!0:O.add(z.route.id))}),O.size===0)return[];let $=Wv(i);return U&&O.size>0&&$.searchParams.set("_routes",e.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[$.pathname+$.search]},[f,s,a,g,e,i,c]),C=H.useMemo(()=>jv(_,a),[_,a]),A=Yv(_);return H.createElement(H.Fragment,null,w.map(O=>H.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>H.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),A.map(({key:O,link:U})=>H.createElement("link",{key:O,...U})))}function Zv(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Xm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xm&&(window.__reactRouterVersion="7.1.1")}catch{}function eE({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=B_({window:n,v5Compat:!0}));let a=s.current,[c,f]=H.useState({action:a.action,location:a.location}),m=H.useCallback(g=>{H.startTransition(()=>f(g))},[f]);return H.useLayoutEffect(()=>a.listen(m),[a,m]),H.createElement(kv,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Ym=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:g,to:_,preventScrollReset:w,viewTransition:C,...A},O){let{basename:U}=H.useContext(Xn),$=typeof _=="string"&&Ym.test(_),z,q=!1;if(typeof _=="string"&&$&&(z=_,Xm))try{let I=new URL(window.location.href),x=_.startsWith("//")?new URL(I.protocol+_):new URL(_),D=Yr(x.pathname,U);x.origin===I.origin&&D!=null?_=D+x.search+x.hash:q=!0}catch{Qn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=dv(_,{relative:a}),[ne,he,Te]=Gv(s,A),_e=iE(_,{replace:f,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:C});function k(I){e&&e(I),I.defaultPrevented||_e(I)}let T=H.createElement("a",{...A,...Te,href:z||G,onClick:q||c?e:k,ref:Zv(O,he),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ne&&!$?H.createElement(H.Fragment,null,T,H.createElement(Xv,{page:G})):T});ra.displayName="Link";var tE=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:g,..._},w){let C=ma(f,{relative:_.relative}),A=ri(),O=H.useContext(fu),{navigator:U,basename:$}=H.useContext(Xn),z=O!=null&&uE(C)&&m===!0,q=U.encodeLocation?U.encodeLocation(C).pathname:C.pathname,G=A.pathname,ne=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(G=G.toLowerCase(),ne=ne?ne.toLowerCase():null,q=q.toLowerCase()),ne&&$&&(ne=Yr(ne,$)||ne);const he=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Te=G===q||!a&&G.startsWith(q)&&G.charAt(he)==="/",_e=ne!=null&&(ne===q||!a&&ne.startsWith(q)&&ne.charAt(q.length)==="/"),k={isActive:Te,isPending:_e,isTransitioning:z},T=Te?e:void 0,I;typeof s=="function"?I=s(k):I=[s,Te?"active":null,_e?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let x=typeof c=="function"?c(k):c;return H.createElement(ra,{..._,"aria-current":T,className:I,ref:w,style:x,to:f,viewTransition:m},typeof g=="function"?g(k):g)});tE.displayName="NavLink";var nE=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=$l,action:m,onSubmit:g,relative:_,preventScrollReset:w,viewTransition:C,...A},O)=>{let U=aE(),$=lE(m,{relative:_}),z=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&Ym.test(m),G=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let he=ne.nativeEvent.submitter,Te=(he==null?void 0:he.getAttribute("formmethod"))||f;U(he||ne.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:a,state:c,relative:_,preventScrollReset:w,viewTransition:C})};return H.createElement("form",{ref:O,method:z,action:$,onSubmit:s?g:G,...A,"data-discover":!q&&i==="render"?"true":void 0})});nE.displayName="Form";function rE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jm(i){let e=H.useContext(qs);return Ye(e,rE(i)),e}function iE(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=bh(),g=ri(),_=ma(i,{relative:c});return H.useCallback(w=>{if(Ov(w,e)){w.preventDefault();let C=n!==void 0?n:na(g)===na(_);m(i,{replace:C,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[g,m,_,n,s,e,i,a,c,f])}var sE=0,oE=()=>`__${String(++sE)}__`;function aE(){let{router:i}=Jm("useSubmit"),{basename:e}=H.useContext(Xn),n=Rv();return H.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:g,body:_}=Uv(s,e);if(a.navigate===!1){let w=a.fetcherKey||oE();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function lE(i,{relative:e}={}){let{basename:n}=H.useContext(Xn),s=H.useContext(Yn);Ye(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...ma(i||".",{relative:e})},f=ri();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(C=>C).forEach(C=>m.append("index",C));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:gr([n,c.pathname])),na(c)}function uE(i,e={}){let n=H.useContext(Hm);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jm("useViewTransitionState"),a=ma(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xl(a.pathname,f)!=null||Xl(a.pathname,c)!=null}new TextEncoder;const Zm=H.createContext({items:[],createItem:i=>{},getItem:i=>{},updateItem:i=>{},deleteItem:i=>{}});function cE({children:i}){const[e,n]=H.useState([]);function s(m){const g=[...e];g.push(m),n(g)}function a(m){return e.find(_=>_.id===m)}function c(m){const g=e.map(_=>_.id===m.id?{...m}:_);n(g)}function f(m){const g=e.filter(_=>_.id!==m);n(g)}return oe.jsx(Zm.Provider,{value:{items:e,createItem:s,getItem:a,updateItem:c,deleteItem:f},children:i})}function eg(){return H.useContext(Zm)}const hE="/MovieReview/assets/logo-Chi6yRPr.png";function fE(){const[i,e]=H.useState(window.innerWidth<=768),n={padding:"10px",display:"block",fontSize:"20px",color:"white",textDecoration:"none",fontFamily:'"Montserrat", sans-serif'},s={backgroundColor:"#060e06",padding:"20px 0",display:"flex",gap:"5px",alignItems:"center",justifyContent:"space-between",width:"100%",position:"fixed",top:0,left:0,right:0,zIndex:100,height:"70px"},a={display:"flex",gap:"20px",position:"absolute",left:"50%",transform:"translateX(-50%)"},c={height:"40px",marginLeft:"20px"};return H.useEffect(()=>{const f=()=>{e(window.innerWidth<=768)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),oe.jsxs("div",{style:s,children:[oe.jsx("img",{src:hE,alt:"Logo",style:i?{display:"none"}:c}),oe.jsxs("div",{style:a,children:[oe.jsx(ra,{to:"/",style:n,children:"Home"}),oe.jsx(ra,{to:"/create",style:n,children:"Create"})]})]})}function Yl({children:i}){const e={width:"90%",margin:"100px auto"};return oe.jsxs("div",{children:[oe.jsx(fE,{}),oe.jsx("div",{style:e,children:i})]})}function dE({item:i,handleEdit:e,handleDelete:n}){const s={display:"flex",flexDirection:"column",width:"300px",marginBottom:"10px",textAlign:"center"},a={display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",textDecoration:"none",color:"white",marginBottom:"15px"},c={width:"200px",height:"300px",objectFit:"cover",borderRadius:"10px",marginBottom:"20px"},f={fontSize:"24px",fontWeight:"bold"},m={backgroundColor:"white",color:"#8A2BE2",border:"2px solid #8A2BE2",padding:"10px 20px",borderRadius:"5px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",margin:"5px",transition:"background-color 0.3s, color 0.3s"},g={backgroundColor:"#d1d1d1",color:"#6A0DAD"};return oe.jsxs("div",{style:s,children:[oe.jsxs(ra,{to:`/view/${i.id}`,style:a,children:[oe.jsx("img",{src:i.cover,alt:i.title,style:c}),oe.jsx("div",{style:f,children:i.title})]}),oe.jsxs("div",{children:[oe.jsx("button",{onClick:()=>e(i.id),style:m,onMouseOver:_=>_.currentTarget.style.backgroundColor=g.backgroundColor,onMouseOut:_=>_.currentTarget.style.backgroundColor=m.backgroundColor,children:"Edit"}),oe.jsx("button",{onClick:()=>n(i.id),style:m,onMouseOver:_=>_.currentTarget.style.backgroundColor=g.backgroundColor,onMouseOut:_=>_.currentTarget.style.backgroundColor=m.backgroundColor,children:"Delete"})]})]})}function pE(){const i=eg(),e=bh(),n={display:"flex",flexWrap:"wrap",justifyContent:"center"},s={marginBottom:"40px"};function a(f){i.deleteItem(f)}function c(f){e(`/create?id=${f}`)}return oe.jsx(Yl,{children:oe.jsx("div",{style:n,children:i.items.map(f=>oe.jsx("div",{style:s,children:oe.jsx(dE,{item:f,handleEdit:c,handleDelete:a})},f.id))})})}var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},mE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,w=c>>2,C=(c&3)<<4|m>>4;let A=(m&15)<<2|_>>6,O=_&63;g||(O=64,f||(A=64)),s.push(n[w],n[C],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):mE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||C==null)throw new gE;const A=c<<2|m>>4;if(s.push(A),_!==64){const O=m<<4&240|_>>2;if(s.push(O),C!==64){const U=_<<6&192|C;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class gE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yE=function(i){const e=tg(i);return ng.encodeByteArray(e,!0)},Jl=function(i){return yE(i).replace(/\./g,"")},_E=function(i){try{return ng.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=()=>vE().__FIREBASE_DEFAULTS__,wE=()=>{if(typeof process>"u"||typeof $p>"u")return;const i=$p.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},TE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&_E(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return EE()||wE()||TE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},SE=i=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},IE=i=>{const e=SE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},rg=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Jl(JSON.stringify(n)),Jl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PE(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kE(){return!PE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function VE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DE,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ig.prototype.create)}}class ig{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?NE(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Ws(a,m,s)}}function NE(i,e){return i.replace(LE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const LE=/\{\$([^}]+)}/g;function yh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Hp(c)&&Hp(f)){if(!yh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Hp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FE(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ME(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ME(i){return i===Di?void 0:i}function FE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const bE={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},zE=Ne.INFO,BE={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},jE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=BE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=zE,this._logHandler=jE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const $E=(i,e)=>e.some(n=>i instanceof n);let qp,Wp;function HE(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qE(){return Wp||(Wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const og=new WeakMap,_h=new WeakMap,ag=new WeakMap,sh=new WeakMap,qh=new WeakMap;function WE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Qr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&og.set(n,i)}).catch(()=>{}),qh.set(e,i),e}function QE(i){if(_h.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});_h.set(i,e)}let vh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return _h.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ag.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function KE(i){vh=i(vh)}function GE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(oh(this),e,...n);return ag.set(s,e.sort?e.sort():[e]),Qr(s)}:qE().includes(i)?function(...e){return i.apply(oh(this),e),Qr(og.get(this))}:function(...e){return Qr(i.apply(oh(this),e))}}function XE(i){return typeof i=="function"?GE(i):(i instanceof IDBTransaction&&QE(i),$E(i,HE())?new Proxy(i,vh):i)}function Qr(i){if(i instanceof IDBRequest)return WE(i);if(sh.has(i))return sh.get(i);const e=XE(i);return e!==i&&(sh.set(i,e),qh.set(e,i)),e}const oh=i=>qh.get(i);function YE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Qr(f.result),g.oldVersion,g.newVersion,Qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const JE=["get","getKey","getAll","getAllKeys","count"],ZE=["put","add","delete","clear"],ah=new Map;function Qp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ah.get(e))return ah.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ZE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||JE.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return ah.set(e,c),c}KE(i=>({...i,get:(e,n,s)=>Qp(e,n)||i.get(e,n,s),has:(e,n)=>!!Qp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eh="@firebase/app",Kp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new sg("@firebase/app"),nw="@firebase/app-compat",rw="@firebase/analytics-compat",iw="@firebase/analytics",sw="@firebase/app-check-compat",ow="@firebase/app-check",aw="@firebase/auth",lw="@firebase/auth-compat",uw="@firebase/database",cw="@firebase/data-connect",hw="@firebase/database-compat",fw="@firebase/functions",dw="@firebase/functions-compat",pw="@firebase/installations",mw="@firebase/installations-compat",gw="@firebase/messaging",yw="@firebase/messaging-compat",_w="@firebase/performance",vw="@firebase/performance-compat",Ew="@firebase/remote-config",ww="@firebase/remote-config-compat",Tw="@firebase/storage",Sw="@firebase/storage-compat",Iw="@firebase/firestore",Rw="@firebase/vertexai",Cw="@firebase/firestore-compat",Aw="firebase",Pw="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]",kw={[Eh]:"fire-core",[nw]:"fire-core-compat",[iw]:"fire-analytics",[rw]:"fire-analytics-compat",[ow]:"fire-app-check",[sw]:"fire-app-check-compat",[aw]:"fire-auth",[lw]:"fire-auth-compat",[uw]:"fire-rtdb",[cw]:"fire-data-connect",[hw]:"fire-rtdb-compat",[fw]:"fire-fn",[dw]:"fire-fn-compat",[pw]:"fire-iid",[mw]:"fire-iid-compat",[gw]:"fire-fcm",[yw]:"fire-fcm-compat",[_w]:"fire-perf",[vw]:"fire-perf-compat",[Ew]:"fire-rc",[ww]:"fire-rc-compat",[Tw]:"fire-gcs",[Sw]:"fire-gcs-compat",[Iw]:"fire-fst",[Cw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[Aw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,xw=new Map,Th=new Map;function Gp(i,e){try{i.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function tu(i){const e=i.name;if(Th.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Th.set(e,i);for(const n of eu.values())Gp(n,i);for(const n of xw.values())Gp(n,i);return!0}function Vw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new ig("app","Firebase",Dw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=Pw;function lg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=rg()),!n)throw Kr.create("no-options");const c=eu.get(a);if(c){if(yh(n,c.options)&&yh(s,c.config))return c;throw Kr.create("duplicate-app",{appName:a})}const f=new UE(a);for(const g of Th.values())f.addComponent(g);const m=new Nw(n,s,f);return eu.set(a,m),m}function Ow(i=wh){const e=eu.get(i);if(!e&&i===wh&&rg())return lg();if(!e)throw Kr.create("no-app",{appName:i});return e}function Os(i,e,n){var s;let a=(s=kw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(m.join(" "));return}tu(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firebase-heartbeat-database",Fw=1,sa="firebase-heartbeat-store";let lh=null;function ug(){return lh||(lh=YE(Mw,Fw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),lh}async function Uw(i){try{const n=(await ug()).transaction(sa),s=await n.objectStore(sa).get(cg(i));return await n.done,s}catch(e){if(e instanceof Ws)_r.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(n.message)}}}async function Xp(i,e){try{const s=(await ug()).transaction(sa,"readwrite");await s.objectStore(sa).put(e,cg(i)),await s.done}catch(n){if(n instanceof Ws)_r.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_r.warn(s.message)}}}function cg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=1024,zw=30*24*60*60*1e3;class Bw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Yp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=zw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){_r.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yp(),{heartbeatsToSend:s,unsentEntries:a}=jw(this._heartbeatsCache.heartbeats),c=Jl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return _r.warn(n),""}}}function Yp(){return new Date().toISOString().substring(0,10)}function jw(i,e=bw){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Jp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Jp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?VE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Uw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Jp(i){return Jl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(i){tu(new ia("platform-logger",e=>new ew(e),"PRIVATE")),tu(new ia("heartbeat",e=>new Bw(e),"PRIVATE")),Os(Eh,Kp,i),Os(Eh,Kp,"esm2017"),Os("fire-js","")}Hw("");var qw="firebase",Ww="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(qw,Ww,"app");var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,hg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(x,D,L){for(var R=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)R[tt-2]=arguments[tt];return T.prototype[D].apply(x,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,I){I||(I=0);var x=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)x[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)x[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],D=k.g[2];var L=k.g[3],R=T+(L^I&(D^L))+x[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=L+(D^T&(I^D))+x[1]+3905402710&4294967295,L=T+(R<<12&4294967295|R>>>20),R=D+(I^L&(T^I))+x[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(T^D&(L^T))+x[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(L^I&(D^L))+x[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=L+(D^T&(I^D))+x[5]+1200080426&4294967295,L=T+(R<<12&4294967295|R>>>20),R=D+(I^L&(T^I))+x[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(T^D&(L^T))+x[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(L^I&(D^L))+x[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=L+(D^T&(I^D))+x[9]+2336552879&4294967295,L=T+(R<<12&4294967295|R>>>20),R=D+(I^L&(T^I))+x[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(T^D&(L^T))+x[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(L^I&(D^L))+x[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=L+(D^T&(I^D))+x[13]+4254626195&4294967295,L=T+(R<<12&4294967295|R>>>20),R=D+(I^L&(T^I))+x[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(T^D&(L^T))+x[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=T+(D^L&(I^D))+x[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(T^I))+x[6]+3225465664&4294967295,L=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(L^T))+x[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^T&(D^L))+x[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(D^L&(I^D))+x[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(T^I))+x[10]+38016083&4294967295,L=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(L^T))+x[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^T&(D^L))+x[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(D^L&(I^D))+x[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(T^I))+x[14]+3275163606&4294967295,L=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(L^T))+x[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^T&(D^L))+x[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(D^L&(I^D))+x[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(T^I))+x[2]+4243563512&4294967295,L=T+(R<<9&4294967295|R>>>23),R=D+(T^I&(L^T))+x[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^T&(D^L))+x[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=T+(I^D^L)+x[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=L+(T^I^D)+x[8]+2272392833&4294967295,L=T+(R<<11&4294967295|R>>>21),R=D+(L^T^I)+x[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^T)+x[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(I^D^L)+x[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=L+(T^I^D)+x[4]+1272893353&4294967295,L=T+(R<<11&4294967295|R>>>21),R=D+(L^T^I)+x[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^T)+x[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(I^D^L)+x[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=L+(T^I^D)+x[0]+3936430074&4294967295,L=T+(R<<11&4294967295|R>>>21),R=D+(L^T^I)+x[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^T)+x[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(I^D^L)+x[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=L+(T^I^D)+x[12]+3873151461&4294967295,L=T+(R<<11&4294967295|R>>>21),R=D+(L^T^I)+x[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^T)+x[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=T+(D^(I|~L))+x[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=L+(I^(T|~D))+x[7]+1126891415&4294967295,L=T+(R<<10&4294967295|R>>>22),R=D+(T^(L|~I))+x[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~T))+x[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=T+(D^(I|~L))+x[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=L+(I^(T|~D))+x[3]+2399980690&4294967295,L=T+(R<<10&4294967295|R>>>22),R=D+(T^(L|~I))+x[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~T))+x[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=T+(D^(I|~L))+x[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=L+(I^(T|~D))+x[15]+4264355552&4294967295,L=T+(R<<10&4294967295|R>>>22),R=D+(T^(L|~I))+x[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~T))+x[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=T+(D^(I|~L))+x[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=L+(I^(T|~D))+x[11]+3174756917&4294967295,L=T+(R<<10&4294967295|R>>>22),R=D+(T^(L|~I))+x[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~T))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,x=this.B,D=this.h,L=0;L<T;){if(D==0)for(;L<=I;)a(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<T;)if(x[D++]=k.charCodeAt(L++),D==this.blockSize){a(this,x),D=0;break}}else for(;L<T;)if(x[D++]=k[L++],D==this.blockSize){a(this,x),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var x=0;32>x;x+=8)k[I++]=this.g[T]>>>x&255;return k};function c(k,T){var I=m;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function f(k,T){this.h=T;for(var I=[],x=!0,D=k.length-1;0<=D;D--){var L=k[D]|0;x&&L==T||(I[D]=L,x=!1)}this.g=I}var m={};function g(k){return-128<=k&&128>k?c(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return C;if(0>k)return z(_(-k));for(var T=[],I=1,x=0;k>=I;x++)T[x]=k/I|0,I*=4294967296;return new f(T,0)}function w(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return z(w(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),x=C,D=0;D<k.length;D+=8){var L=Math.min(8,k.length-D),R=parseInt(k.substring(D,D+L),T);8>L?(L=_(Math.pow(T,L)),x=x.j(L).add(_(R))):(x=x.j(I),x=x.add(_(R)))}return x}var C=g(0),A=g(1),O=g(16777216);i=f.prototype,i.m=function(){if($(this))return-z(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var x=this.i(I);k+=(0<=x?x:4294967296+x)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(U(this))return"0";if($(this))return"-"+z(this).toString(k);for(var T=_(Math.pow(k,6)),I=this,x="";;){var D=he(I,T).g;I=q(I,D.j(T));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=D,U(I))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function U(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function $(k){return k.h==-1}i.l=function(k){return k=q(this,k),$(k)?-1:U(k)?0:1};function z(k){for(var T=k.g.length,I=[],x=0;x<T;x++)I[x]=~k.g[x];return new f(I,~k.h).add(A)}i.abs=function(){return $(this)?z(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0,D=0;D<=T;D++){var L=x+(this.i(D)&65535)+(k.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);x=R>>>16,L&=65535,R&=65535,I[D]=R<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function q(k,T){return k.add(z(T))}i.j=function(k){if(U(this)||U(k))return C;if($(this))return $(k)?z(this).j(z(k)):z(z(this).j(k));if($(k))return z(this.j(z(k)));if(0>this.l(O)&&0>k.l(O))return _(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],x=0;x<2*T;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<k.g.length;D++){var L=this.i(x)>>>16,R=this.i(x)&65535,tt=k.i(D)>>>16,kt=k.i(D)&65535;I[2*x+2*D]+=R*kt,G(I,2*x+2*D),I[2*x+2*D+1]+=L*kt,G(I,2*x+2*D+1),I[2*x+2*D+1]+=R*tt,G(I,2*x+2*D+1),I[2*x+2*D+2]+=L*tt,G(I,2*x+2*D+2)}for(x=0;x<T;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=T;x<2*T;x++)I[x]=0;return new f(I,0)};function G(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ne(k,T){this.g=k,this.h=T}function he(k,T){if(U(T))throw Error("division by zero");if(U(k))return new ne(C,C);if($(k))return T=he(z(k),T),new ne(z(T.g),z(T.h));if($(T))return T=he(k,z(T)),new ne(z(T.g),T.h);if(30<k.g.length){if($(k)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=A,x=T;0>=x.l(k);)I=Te(I),x=Te(x);var D=_e(I,1),L=_e(x,1);for(x=_e(x,2),I=_e(I,2);!U(x);){var R=L.add(x);0>=R.l(k)&&(D=D.add(I),L=R),x=_e(x,1),I=_e(I,1)}return T=q(k,D.j(T)),new ne(D,T)}for(D=C;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=_(I),R=L.j(T);$(R)||0<R.l(k);)I-=x,L=_(I),R=L.j(T);U(L)&&(L=A),D=D.add(L),k=q(k,R)}return new ne(D,k)}i.A=function(k){return he(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)&k.i(x);return new f(I,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)|k.i(x);return new f(I,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)^k.i(x);return new f(I,this.h^k.h)};function Te(k){for(var T=k.g.length+1,I=[],x=0;x<T;x++)I[x]=k.i(x)<<1|k.i(x-1)>>>31;return new f(I,k.h)}function _e(k,T){var I=T>>5;T%=32;for(var x=k.g.length-I,D=[],L=0;L<x;L++)D[L]=0<T?k.i(L+I)>>>T|k.i(L+I+1)<<32-T:k.i(L+I);return new f(D,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hg=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,Gr=f}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fg,Go,dg,ql,Sh,pg,mg,gg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fl=="object"&&Fl];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var j=y++;return{value:d(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function C(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function A(l,d,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:C,A.apply(null,arguments)}function O(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function U(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,j){for(var ee=Array(arguments.length-2),be=2;be<arguments.length;be++)ee[be-2]=arguments[be];return d.prototype[M].apply(E,ee)}}function $(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function z(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,j=E.length||0;l.length=M+j;for(let ee=0;ee<j;ee++)l[M+ee]=E[ee]}else l.push(E)}}class q{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function he(l){return he[" "](l),l}he[" "]=function(){};var Te=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function _e(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function k(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,d){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let j=0;j<I.length;j++)y=I[j],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function L(l){m.setTimeout(()=>{throw l},0)}function R(){var l=de;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,y){const E=kt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new q(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,te=!1,de=new tt,ie=()=>{const l=m.Promise.resolve(void 0);ze=()=>{l.then(N)}};var N=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(y){L(y)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}te=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Re(l,d){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Te){e:{try{he(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}U(Re,fe);var xe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(l,d,y,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Jn(l){this.src=l,this.g={},this.h=0}Jn.prototype.add=function(l,d,y,E,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var ee=wr(l,d,E,M);return-1<ee?(d=l[ee],y||(d.fa=!1)):(d=new je(d,this.src,j,!!E,M),d.fa=y,l.push(d)),d};function bi(l,d){var y=d.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=M)&&Array.prototype.splice.call(E,M,1),j&&(gt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function wr(l,d,y,E){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==d&&j.capture==!!y&&j.ha==E)return M}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),zi={};function Ys(l,d,y,E,M){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Ys(l,d[j],y,E,M);return null}return y=eo(y),l&&l[Me]?l.K(d,y,_(E)?!!E.capture:!1,M):Js(l,d,y,!1,E,M)}function Js(l,d,y,E,M,j){if(!d)throw Error("Invalid event type");var ee=_(M)?!!M.capture:!!M,be=ji(l);if(be||(l[ii]=be=new Jn(l)),y=be.add(d,y,E,ee,j),y.proxy)return y;if(E=Ea(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ie||(M=ee),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(er(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ea(){function l(y){return d.call(l.src,l.listener,y)}const d=Zs;return l}function Bi(l,d,y,E,M){if(Array.isArray(d))for(var j=0;j<d.length;j++)Bi(l,d[j],y,E,M);else E=_(E)?!!E.capture:!!E,y=eo(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],y=wr(j,y,E,M),-1<y&&(gt(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=ji(l))&&(d=l.g[d.toString()],l=-1,d&&(l=wr(d,y,E,M)),(y=-1<l?d[l]:null)&&Zn(y))}function Zn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])bi(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(er(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=ji(d))?(bi(y,l),y.h==0&&(y.src=null,d[ii]=null)):gt(l)}}}function er(l){return l in zi?zi[l]:zi[l]="on"+l}function Zs(l,d){if(l.da)l=!0;else{d=new Re(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Zn(l),l=y.call(E,d)}return l}function ji(l){return l=l[ii],l instanceof Jn?l:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(l){return typeof l=="function"?l:(l[$i]||(l[$i]=function(d){return l.handleEvent(d)}),l[$i])}function lt(){Q.call(this),this.i=new Jn(this),this.M=this,this.F=null}U(lt,Q),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,d,y,E){Bi(this,l,d,y,E)};function ut(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new fe(d,l);else if(d instanceof fe)d.target=d.target||l;else{var M=d;d=new fe(E,l),x(d,M)}if(M=!0,y)for(var j=y.length-1;0<=j;j--){var ee=d.g=y[j];M=tr(ee,E,!0,d)&&M}if(ee=d.g=l,M=tr(ee,E,!0,d)&&M,M=tr(ee,E,!1,d)&&M,y)for(j=0;j<y.length;j++)ee=d.g=y[j],M=tr(ee,E,!1,d)&&M}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)gt(y[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},lt.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function tr(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,j=0;j<d.length;++j){var ee=d[j];if(ee&&!ee.da&&ee.capture==y){var be=ee.listener,ct=ee.ha||ee.src;ee.fa&&bi(l.i,ee),M=be.call(ct,E)!==!1&&M}}return M&&!E.defaultPrevented}function to(l,d,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Tr(l){l.g=to(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class si extends Q{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(l){Q.call(this),this.h=l,this.g={}}U(oi,Q);var no=[];function ro(l){_e(l.g,function(d,y){this.g.hasOwnProperty(y)&&Zn(d)},l),l.g={}}oi.prototype.N=function(){oi.aa.N.call(this),ro(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=m.JSON.stringify,so=m.JSON.parse,oo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ai(){}ai.prototype.h=null;function Hi(l){return l.h||(l.h=l.i())}function qi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){fe.call(this,"d")}U(Nn,fe);function Wi(){fe.call(this,"c")}U(Wi,fe);var Ln={},ao=null;function li(){return ao=ao||new lt}Ln.La="serverreachability";function lo(l){fe.call(this,Ln.La,l)}U(lo,fe);function nr(l){const d=li();ut(d,new lo(d))}Ln.STAT_EVENT="statevent";function uo(l,d){fe.call(this,Ln.STAT_EVENT,l),this.stat=d}U(uo,fe);function nt(l){const d=li();ut(d,new uo(d,l))}Ln.Ma="timingevent";function Qi(l,d){fe.call(this,Ln.Ma,l),this.size=d}U(Qi,fe);function yn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function ci(l,d,y,E,M,j){l.info(function(){if(l.g)if(j)for(var ee="",be=j.split("&"),ct=0;ct<be.length;ct++){var Ve=be[ct].split("=");if(1<Ve.length){var yt=Ve[0];Ve=Ve[1];var st=yt.split("_");ee=2<=st.length&&st[1]=="type"?ee+(yt+"="+Ve+"&"):ee+(yt+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+y+`
`+ee})}function Ki(l,d,y,E,M,j,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+y+`
`+j+" "+ee})}function _n(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Cu(l,y)+(E?" "+E:"")})}function co(l,d){l.info(function(){return"TIMEOUT: "+d})}ui.prototype.info=function(){};function Cu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return io(y)}catch{return d}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function hi(){}U(hi,ai),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},vn=new hi;function En(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ta}function Ta(){this.i=null,this.g="",this.h=!1}var ho={},Xi={};function Yi(l,d,y){l.L=1,l.v=Ar(Jt(d)),l.m=y,l.P=!0,fo(l,null)}function fo(l,d){l.F=Date.now(),$e(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Ta,l.g=za(l.j,y?d:null,!l.m),0<l.O&&(l.M=new si(A(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(no[0]=M.toString()),M=no);for(var j=0;j<M.length;j++){var ee=Ys(y,M[j],E||d.handleEvent,!1,d.h||d);if(!ee)break;d.g[ee.key]=ee}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),nr(),ci(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&$t(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||st!=4||d==7||(d==8||0>=ln?nr(3):nr(2)),fi(this);var y=this.g.Z();this.X=y;t:if(Sa(this)){var E=vo(this.g);l="";var M=E.length,j=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Sr(this);var ee="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(j&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,Ki(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ct=this.g;if((be=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(be)){var Ve=be;break t}}Ve=null}if(y=Ve)_n(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,y);else{this.o=!1,this.s=3,nt(12),on(this),Sr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<ee.length;)if(en=Au(this,ee),en==Xi){st==4&&(this.s=4,nt(14),y=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(en==ho){this.s=4,nt(15),_n(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else _n(this.i,this.l,en,null),po(this,en);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)_n(this.i,this.l,ee,"[Invalid Chunked Response]"),on(this),Sr(this);else if(0<ee.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),wo(yt),yt.M=!0,nt(11))}}else _n(this.i,this.l,ee,null),po(this,ee);st==4&&on(this),this.o&&!this.J&&(st==4?ls(this.j,this):(this.o=!1,$e(this)))}else rs(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),on(this),Sr(this)}}}catch{}finally{}};function Sa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Au(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Xi:(y=Number(d.substring(y,E)),isNaN(y)?ho:(E+=1,E+y>d.length?Xi:(d=d.slice(E,E+y),l.C=E+y,d)))}En.prototype.cancel=function(){this.J=!0,on(this)};function $e(l){l.S=Date.now()+l.I,Ia(l,l.I)}function Ia(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(A(l.ba,l),d)}function fi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(co(this.i,this.A),this.L!=2&&(nr(),nt(17)),on(this),this.s=2,Sr(this)):Ia(this,this.S-l)};function Sr(l){l.j.G==0||l.J||ls(l.j,l)}function on(l){fi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ro(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function po(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)as(y),Rn(y);else break e;os(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=yn(A(y.Za,y),6e3));if(1>=Ca(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ar(y,11)}else if((l.K||y.g==l)&&as(y),!G(d))for(M=y.Da.g.parse(d),d=0;d<M.length;d++){let Ve=M[d];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const yt=Ve[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ve[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const ln=Ve[5];ln!=null&&typeof ln=="number"&&0<ln&&(E=1.5*ln,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const vi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var j=E.h;j.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(mo(j,j.h),j.h=null))}if(E.D){const cs=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(E.ya=cs,Be(E.I,E.D,cs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=ba(E,E.J?E.ia:null,E.W),ee.K){Aa(E.h,ee);var be=ee,ct=E.L;ct&&(be.I=ct),be.B&&(fi(be),$e(be)),E.g=ee}else _i(E);0<y.i.length&&Un(y)}else Ve[0]!="stop"&&Ve[0]!="close"||ar(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ar(y,7):St(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}nr(4)}catch{}}var Ra=class{constructor(l,d){this.g=l,this.map=d}};function di(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ca(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function mo(l,d){l.g?l.g.add(d):l.h=d}function Aa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}di.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Pa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return $(l.i)}function Ji(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function Zi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function Ir(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Zi(l),E=Ji(l),M=E.length,j=0;j<M;j++)d.call(void 0,E[j],y&&y[j],l)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var j=l[y].substring(0,E);M=l[y].substring(E+1)}else j=l[y];d(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function rr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof rr){this.h=l.h,mi(this,l.j),this.o=l.o,this.g=l.g,Rr(this,l.s),this.l=l.l;var d=l.i,y=new On;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Cr(this,y),this.m=l.m}else l&&(d=String(l).match(pi))?(this.h=!1,mi(this,d[1]||"",!0),this.o=Pe(d[2]||""),this.g=Pe(d[3]||"",!0),Rr(this,d[4]),this.l=Pe(d[5]||"",!0),Cr(this,d[6]||"",!0),this.m=Pe(d[7]||"")):(this.h=!1,this.i=new On(null,this.h))}rr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Pr(d,es,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Pr(d,es,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Pr(y,y.charAt(0)=="/"?Va:xa,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Pr(y,go)),l.join("")};function Jt(l){return new rr(l)}function mi(l,d,y){l.j=y?Pe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Rr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Cr(l,d,y){d instanceof On?(l.i=d,Mn(l.i,l.h)):(y||(d=Pr(d,Da)),l.i=new On(d,l.h))}function Be(l,d,y){l.i.set(d,y)}function Ar(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,ka),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ka(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var es=/[#\/\?@]/g,xa=/[#\?:]/g,Va=/[#\?]/g,Da=/[#\?@]/g,go=/#/g;function On(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Pu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=On.prototype,i.add=function(l,d){Tt(this),this.i=null,l=an(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function wn(l,d){Tt(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tn(l,d){return Tt(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(d,M,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const M=l[E];for(let j=0;j<M.length;j++)y.push(d[E])}return y},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")Tn(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=an(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function kr(l,d,y){wn(l,d),0<y.length&&(l.i=null,l.g.set(an(l,d),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const j=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var M=j;ee[E]!==""&&(M+="="+encodeURIComponent(String(ee[E]))),l.push(M)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mn(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(wn(this,E),kr(this,M,y))},l)),l.j=d}function ku(l,d){const y=new ui;if(m.Image){const E=new Image;E.onload=O(jt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=O(jt,y,"TestLoadImage: error",!1,d,E),E.onabort=O(jt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=O(jt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Na(l,d){const y=new ui,E=new AbortController,M=setTimeout(()=>{E.abort(),jt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(M),j.ok?jt(y,"TestPingServer: ok",!0,d):jt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),jt(y,"TestPingServer: error",!1,d)})}function jt(l,d,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function xu(){this.g=new oo}function La(l,d,y){const E=y||"";try{Ir(l,function(M,j){let ee=M;_(M)&&(ee=io(M)),d.push(E+j+"="+encodeURIComponent(ee))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function ir(l){this.l=l.Ub||null,this.j=l.eb||!1}U(ir,ai),ir.prototype.g=function(){return new gi(this.l,this.j)},ir.prototype.i=function(l){return function(){return l}}({});function gi(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(gi,lt),i=gi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):In(this),this.readyState==3&&Oa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function sr(l){let d="";return _e(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function xr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=sr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Be(l,d,y))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Qe,lt);var Vu=/^https?$/i,yo=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?Hi(this.o):Hi(vn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){yi(this,j);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())y.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(yo,d,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of y)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){yi(this,j)}};function yi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ts(l),Zt(l)}function ts(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof f<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)to(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=ee===0){var M=String(l.D).match(pi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Vu.test(M?M.toLowerCase():"")}y=E}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var j=2<$t(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",ts(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){ns(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{y.onreadystatechange=E}catch{}}}function ns(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),so(d)}};function vo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(l){const d={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(G(l[E]))continue;var y=D(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=d[M]||[];d[M]=j,j.push(y)}k(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function Eo(l){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new di(l&&l.concurrentRequestLimit),this.Da=new xu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Eo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){nt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=ba(this,null,this.W),Un(this)};function St(l){if(is(l),l.G==3){var d=l.U++,y=Jt(l.I);if(Be(y,"SID",l.K),Be(y,"RID",d),Be(y,"TYPE","terminate"),or(l,y),d=new En(l,l.j,d),d.L=2,d.v=Ar(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=za(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}Ua(l)}function Rn(l){l.g&&(wo(l),l.g.cancel(),l.g=null)}function is(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),as(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Yt(l.h)&&!l.s){l.s=!0;var d=l.Ga;ze||ie(),te||(ze(),te=!0),de.add(d,l),l.B=0}}function Du(l,d){return Ca(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(A(l.Ga,l,d),Fa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new En(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),x(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Vr(this,M,d),y=Jt(this.I),Be(y,"RID",l),Be(y,"CVER",22),this.D&&Be(y,"X-HTTP-Session-Id",this.D),or(this,y),j&&(this.O?d="headers="+encodeURIComponent(String(sr(j)))+"&"+d:this.m&&xr(y,this.m,j)),mo(this.h,M),this.Ua&&Be(y,"TYPE","init"),this.P?(Be(y,"$req",d),Be(y,"SID","null"),M.T=!0,Yi(M,y,null)):Yi(M,y,d),this.G=2}}else this.G==3&&(l?ss(this,l):this.i.length==0||Yt(this.h)||ss(this))};function ss(l,d){var y;d?y=d.l:y=l.U++;const E=Jt(l.I);Be(E,"SID",l.K),Be(E,"RID",y),Be(E,"AID",l.T),or(l,E),l.m&&l.o&&xr(E,l.m,l.o),y=new En(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Vr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),mo(l.h,y),Yi(y,E,d)}function or(l,d){l.H&&_e(l.H,function(y,E){Be(d,E,y)}),l.l&&Ir({},function(y,E){Be(d,E,y)})}function Vr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?A(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const ee=["count="+y];j==-1?0<y?(j=M[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let be=!0;for(let ct=0;ct<y;ct++){let Ve=M[ct].g;const yt=M[ct].map;if(Ve-=j,0>Ve)j=Math.max(0,M[ct].g-100),be=!1;else try{La(yt,ee,"req"+Ve+"_")}catch{E&&E(yt)}}if(be){E=ee.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function _i(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ze||ie(),te||(ze(),te=!0),de.add(d,l),l.v=0}}function os(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(A(l.Fa,l),Fa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Ma(this))};function wo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ma(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);Be(d,"RID","rpc"),Be(d,"SID",l.K),Be(d,"AID",l.T),Be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(d,"TO",l.ja),Be(d,"TYPE","xmlhttp"),or(l,d),l.m&&l.o&&xr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Ar(Jt(d)),y.m=null,y.P=!0,fo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),os(this),nt(19))};function as(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ls(l,d){var y=null;if(l.g==d){as(l),wo(l),l.g=null;var E=2}else if(Ut(l.h,d))y=d.D,Aa(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=li(),ut(E,new Qi(E,y)),Un(l)}else _i(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&Du(l,d)||E==2&&os(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),M){case 1:ar(l,5);break;case 4:ar(l,10);break;case 3:ar(l,6);break;default:ar(l,2)}}}function Fa(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ar(l,d){if(l.j.info("Error code "+d),d==2){var y=A(l.fb,l),E=l.Xa;const M=!E;E=new rr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||mi(E,"https"),Ar(E),M?ku(E.toString(),y):Na(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),Ua(l),is(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Ua(l){if(l.G=0,l.ka=[],l.l){const d=Pa(l.h);(d.length!=0||l.i.length!=0)&&(z(l.ka,d),z(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function ba(l,d,y){var E=y instanceof rr?Jt(y):new rr(y);if(E.g!="")d&&(E.g=d+"."+E.g),Rr(E,E.s);else{var M=m.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var j=new rr(null);E&&mi(j,E),d&&(j.g=d),M&&Rr(j,M),y&&(j.l=y),E=j}return y=l.D,d=l.ya,y&&d&&Be(E,y,d),Be(E,"VER",l.la),or(l,E),E}function za(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new ir({eb:y})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}i=To.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function us(){}us.prototype.g=function(l,d){return new bt(l,d)};function bt(l,d){lt.call(this),this.g=new Eo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!G(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new bn(this)}U(bt,lt),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){St(this.g)},bt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=io(l),l=y);d.i.push(new Ra(d.Ya++,l)),d.G==3&&Un(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,bt.aa.N.call(this)};function Ba(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}U(Ba,Nn);function ja(){Wi.call(this),this.status=1}U(ja,Wi);function bn(l){this.g=l}U(bn,To),bn.prototype.ua=function(){ut(this.g,"a")},bn.prototype.ta=function(l){ut(this.g,new Ba(l))},bn.prototype.sa=function(l){ut(this.g,new ja)},bn.prototype.ra=function(){ut(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,gg=function(){return new us},mg=function(){return li()},pg=Ln,Sh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,ql=Gi,wa.COMPLETE="complete",dg=wa,qi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Go=qi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,fg=Qe}).apply(typeof Fl<"u"?Fl:typeof self<"u"?self:typeof window<"u"?window:{});const em="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new sg("@firebase/firestore");function Vs(){return Li.logLevel}function se(i,...e){if(Li.logLevel<=Ne.DEBUG){const n=e.map(Wh);Li.debug(`Firestore (${Qs}): ${i}`,...n)}}function vr(i,...e){if(Li.logLevel<=Ne.ERROR){const n=e.map(Wh);Li.error(`Firestore (${Qs}): ${i}`,...n)}}function Fs(i,...e){if(Li.logLevel<=Ne.WARN){const n=e.map(Wh);Li.warn(`Firestore (${Qs}): ${i}`,...n)}}function Wh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function Ue(i,e){i||Ee()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Kw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new yg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Mt(e)}}class Xw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Xw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Jw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=eT(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Us(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new pt(0,0))}static max(){return new we(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Hn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Hn.isNumericId(e),a=Hn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class et extends Hn{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new et(n)}static emptyPath(){return new et([])}}const tT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Hn{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return tT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}function nT(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Jr(a,ye.empty(),e)}function rT(i){return new Jr(i.readTime,i.key,-1)}class Jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(we.min(),ye.empty(),-1)}static max(){return new Jr(we.max(),ye.empty(),-1)}}function iT(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==sT)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},g=>s(g))}),f=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(w=>{f[_]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function aT(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pu.oe=-1;function mu(i){return i==null}function nu(i){return i===0&&1/i==-1/0}function lT(i){return typeof i=="number"&&Number.isInteger(i)&&!nu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=tm(e)),e=cT(i.get(n),e);return tm(e)}function cT(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function tm(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Oi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ul(this.root,e,this.comparator,!0)}}class Ul{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rm(this.data.getIterator())}getIteratorFrom(e){return new rm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class rm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new mt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Eg("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const hT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(Ue(!!i),typeof i=="string"){let e=0;const n=hT.exec(i);if(Ue(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ei(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gu(i){const e=i.mapValue.fields.__previous_value__;return Qh(e)?gu(e):e}function oa(i){const e=Zr(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,s,a,c,f,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ti(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qh(i)?4:pT(i)?9007199254740991:dT(i)?10:11:Ee()}function Kn(i,e){if(i===e)return!0;const n=ti(i);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return oa(i).isEqual(oa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Zr(a.timestampValue),m=Zr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ei(a.bytesValue).isEqual(ei(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=it(a.doubleValue),m=it(c.doubleValue);return f===m?nu(f)===nu(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Us(i.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(nm(f)!==nm(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Kn(f[g],m[g])))return!1;return!0}(i,e);default:return Ee()}}function la(i,e){return(i.values||[]).find(n=>Kn(n,e))!==void 0}function bs(i,e){if(i===e)return 0;const n=ti(i),s=ti(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=it(c.integerValue||c.doubleValue),g=it(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return im(i.timestampValue,e.timestampValue);case 4:return im(oa(i),oa(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(c,f){const m=ei(c),g=ei(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let _=0;_<m.length&&_<g.length;_++){const w=ke(m[_],g[_]);if(w!==0)return w}return ke(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=ke(it(c.latitude),it(f.latitude));return m!==0?m:ke(it(c.longitude),it(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return sm(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,g,_,w;const C=c.fields||{},A=f.fields||{},O=(m=C.value)===null||m===void 0?void 0:m.arrayValue,U=(g=A.value)===null||g===void 0?void 0:g.arrayValue,$=ke(((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0,((w=U==null?void 0:U.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:sm(O,U)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===bl.mapValue&&f===bl.mapValue)return 0;if(c===bl.mapValue)return 1;if(f===bl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=f.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let C=0;C<g.length&&C<w.length;++C){const A=ke(g[C],w[C]);if(A!==0)return A;const O=bs(m[g[C]],_[w[C]]);if(O!==0)return O}return ke(g.length,w.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function im(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Zr(i),s=Zr(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function sm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=bs(n[a],s[a]);if(c)return c}return ke(n.length,s.length)}function zs(i){return Ih(i)}function Ih(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ei(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Ih(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${Ih(n.fields[f])}`;return a+"}"}(i.mapValue):Ee()}function Wl(i){switch(ti(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gu(i);return e?16+Wl(e):16;case 5:return 2*i.stringValue.length;case 6:return ei(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Wl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Oi(s.fields,(c,f)=>{a+=c.length+Wl(f)}),a}(i.mapValue);default:throw Ee()}}function Rh(i){return!!i&&"integerValue"in i}function Kh(i){return!!i&&"arrayValue"in i}function om(i){return!!i&&"nullValue"in i}function am(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ql(i){return!!i&&"mapValue"in i}function dT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Oi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function pT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Jo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ql(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Oi(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new mn(Jo(this.value))}}function wg(i){const e=[];return Oi(i.fields,(n,s)=>{const a=new At([n]);if(Ql(s)){const c=wg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function lm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=bs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function um(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function mT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{}class dt extends Tg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new yT(e,n,s):n==="array-contains"?new ET(e,s):n==="in"?new wT(e,s):n==="not-in"?new TT(e,s):n==="array-contains-any"?new ST(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _T(e,s):new vT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bs(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends Tg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gn(e,n)}matches(e){return Sg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Sg(i){return i.op==="and"}function Ig(i){return gT(i)&&Sg(i)}function gT(i){for(const e of i.filters)if(e instanceof Gn)return!1;return!0}function Ch(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+zs(i.value);if(Ig(i))return i.filters.map(e=>Ch(e)).join(",");{const e=i.filters.map(n=>Ch(n)).join(",");return`${i.op}(${e})`}}function Rg(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Kn(s.value,a.value)}(i,e):i instanceof Gn?function(s,a){return a instanceof Gn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Rg(f,a.filters[m]),!0):!1}(i,e):void Ee()}function Cg(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(i):i instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(Cg).join(" ,")+"}"}(i):"Filter"}class yT extends dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class _T extends dt{constructor(e,n){super(e,"in",n),this.keys=Ag("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vT extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Ag("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ag(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class ET extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kh(n)&&la(n.arrayValue,this.value)}}class wT extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&la(this.value.arrayValue,n)}}class TT extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!la(this.value.arrayValue,n)}}class ST extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>la(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function cm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new IT(i,e,n,s,a,c,f)}function Gh(i){const e=Se(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ch(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>zs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>zs(s)).join(",")),e.ue=n}return e.ue}function Xh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!mT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Rg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!um(i.startAt,e.startAt)&&um(i.endAt,e.endAt)}function Ah(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RT(i,e,n,s,a,c,f,m){return new yu(i,e,n,s,a,c,f,m)}function Yh(i){return new yu(i)}function hm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function CT(i){return i.collectionGroup!==null}function Zo(i){const e=Se(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new mt(At.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new iu(c,s))}),n.has(At.keyField().canonicalString())||e.ce.push(new iu(At.keyField(),s))}return e.ce}function qn(i){const e=Se(i);return e.le||(e.le=AT(e,Zo(i))),e.le}function AT(i,e){if(i.limitType==="F")return cm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new iu(a.field,c)});const n=i.endAt?new ru(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ru(i.startAt.position,i.startAt.inclusive):null;return cm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ph(i,e,n){return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _u(i,e){return Xh(qn(i),qn(e))&&i.limitType===e.limitType}function Pg(i){return`${Gh(qn(i))}|lt:${i.limitType}`}function Ds(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Cg(a)).join(", ")}]`),mu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>zs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>zs(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function vu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Zo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,g){const _=lm(f,m,g);return f.inclusive?_<=0:_<0}(s.startAt,Zo(s),a)||s.endAt&&!function(f,m,g){const _=lm(f,m,g);return f.inclusive?_>=0:_>0}(s.endAt,Zo(s),a))}(i,e)}function PT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kg(i){return(e,n)=>{let s=!1;for(const a of Zo(i)){const c=kT(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function kT(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(c,f,m){const g=f.data.field(c),_=m.data.field(c);return g!==null&&_!==null?bs(g,_):Ee()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return vg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Je(ye.comparator);function Er(){return xT}const xg=new Je(ye.comparator);function Xo(...i){let e=xg;for(const n of i)e=e.insert(n.key,n);return e}function Vg(i){let e=xg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ni(){return ea()}function Dg(){return ea()}function ea(){return new Mi(i=>i.toString(),(i,e)=>i.isEqual(e))}const VT=new Je(ye.comparator),DT=new mt(ye.comparator);function Ae(...i){let e=DT;for(const n of i)e=e.add(n);return e}const NT=new mt(ke);function LT(){return NT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function Ng(i){return{integerValue:""+i}}function OT(i,e){return lT(e)?Ng(e):Jh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this._=void 0}}function MT(i,e,n){return i instanceof su?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Qh(c)&&(c=gu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof ua?Og(i,e):i instanceof ca?Mg(i,e):function(a,c){const f=Lg(a,c),m=fm(f)+fm(a.Pe);return Rh(f)&&Rh(a.Pe)?Ng(m):Jh(a.serializer,m)}(i,e)}function FT(i,e,n){return i instanceof ua?Og(i,e):i instanceof ca?Mg(i,e):n}function Lg(i,e){return i instanceof ou?function(s){return Rh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class su extends Eu{}class ua extends Eu{constructor(e){super(),this.elements=e}}function Og(i,e){const n=Fg(e);for(const s of i.elements)n.some(a=>Kn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ca extends Eu{constructor(e){super(),this.elements=e}}function Mg(i,e){let n=Fg(e);for(const s of i.elements)n=n.filter(a=>!Kn(a,s));return{arrayValue:{values:n}}}class ou extends Eu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function fm(i){return it(i.integerValue||i.doubleValue)}function Fg(i){return Kh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function UT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ua&&a instanceof ua||s instanceof ca&&a instanceof ca?Us(s.elements,a.elements,Kn):s instanceof ou&&a instanceof ou?Kn(s.Pe,a.Pe):s instanceof su&&a instanceof su}(i.transform,e.transform)}class bT{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class wu{}function Ug(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new zg(i.key,yr.none()):new ga(i.key,i.data,yr.none());{const n=i.data,s=mn.empty();let a=new mt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Fi(i.key,s,new Dn(a.toArray()),yr.none())}}function zT(i,e,n){i instanceof ga?function(a,c,f){const m=a.value.clone(),g=pm(a.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Fi?function(a,c,f){if(!Kl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=pm(a.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(bg(a)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ta(i,e,n,s){return i instanceof ga?function(c,f,m,g){if(!Kl(c.precondition,f))return m;const _=c.value.clone(),w=mm(c.fieldTransforms,g,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof Fi?function(c,f,m,g){if(!Kl(c.precondition,f))return m;const _=mm(c.fieldTransforms,g,f),w=f.data;return w.setAll(bg(c)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(c,f,m){return Kl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function BT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Lg(s.transform,a||null);c!=null&&(n===null&&(n=mn.empty()),n.set(s.field,c))}return n||null}function dm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Us(s,a,(c,f)=>UT(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ga extends wu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fi extends wu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function pm(i,e,n){const s=new Map;Ue(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,FT(f,m,n[a]))}return s}function mm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,MT(c,f,e))}return s}class zg extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jT extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&zT(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Dg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const g=Ug(f,m);g!==null&&s.set(a.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,s)=>dm(n,s))&&Us(this.baseMutations,e.baseMutations,(n,s)=>dm(n,s))}}class Zh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ue(e.mutations.length===s.length);let a=function(){return VT}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Zh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function WT(i){switch(i){default:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Bg(i){if(i===void 0)return vr("GRPC error has no .code"),J.UNKNOWN;switch(i){case at.OK:return J.OK;case at.CANCELLED:return J.CANCELLED;case at.UNKNOWN:return J.UNKNOWN;case at.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case at.INTERNAL:return J.INTERNAL;case at.UNAVAILABLE:return J.UNAVAILABLE;case at.UNAUTHENTICATED:return J.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case at.NOT_FOUND:return J.NOT_FOUND;case at.ALREADY_EXISTS:return J.ALREADY_EXISTS;case at.PERMISSION_DENIED:return J.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case at.ABORTED:return J.ABORTED;case at.OUT_OF_RANGE:return J.OUT_OF_RANGE;case at.UNIMPLEMENTED:return J.UNIMPLEMENTED;case at.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Gr([4294967295,4294967295],0);function gm(i){const e=QT().encode(i),n=new hg;return n.update(e),new Uint8Array(n.digest())}function ym(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([a,c],0)]}class ef{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(s<0)throw new Yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Gr.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(Gr.fromNumber(s)));return a.compare(KT)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=gm(e),[s,a]=ym(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new ef(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=gm(e),[s,a]=ym(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Tu(we.min(),a,new Je(ke),Er(),Ae())}}class ya{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ya(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class jg{constructor(e,n){this.targetId=e,this.me=n}}class $g{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class _m{constructor(){this.fe=0,this.ge=vm(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),s=Ae();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee()}}),new ya(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=vm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GT{constructor(e){this.Be=e,this.Le=new Map,this.ke=Er(),this.qe=zl(),this.Qe=zl(),this.Ke=new Je(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Ah(c))if(s===0){const f=new ye(c.path);this.We(n,f,Ft.newNoDocument(f,we.min()))}else Ue(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),g=m?this.et(m,e,f):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=ei(s).toUint8Array()}catch(g){if(g instanceof Eg)return Fs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ef(f,a,c)}catch(g){return Fs(g instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&Ah(m.target)){const g=new ye(m.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,Ft.newNoDocument(g,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ae();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new Tu(e,n,this.Ke,this.ke,s);return this.ke=Er(),this.qe=zl(),this.Qe=zl(),this.Ke=new Je(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new _m,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new _m),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function zl(){return new Je(ye.comparator)}function vm(){return new Je(ye.comparator)}const XT={asc:"ASCENDING",desc:"DESCENDING"},YT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JT={and:"AND",or:"OR"};class ZT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kh(i,e){return i.useProto3Json||mu(e)?e:{value:e}}function au(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function e0(i,e){return au(i,e.toTimestamp())}function Wn(i){return Ue(!!i),we.fromTimestamp(function(n){const s=Zr(n);return new pt(s.seconds,s.nanos)}(i))}function tf(i,e){return xh(i,e).canonicalString()}function xh(i,e){const n=function(a){return new et(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function qg(i){const e=et.fromString(i);return Ue(Xg(e)),e}function Vh(i,e){return tf(i.databaseId,e.path)}function uh(i,e){const n=qg(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Qg(n))}function Wg(i,e){return tf(i.databaseId,e)}function t0(i){const e=qg(i);return e.length===4?et.emptyPath():Qg(e)}function Dh(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qg(i){return Ue(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Em(i,e,n){return{name:Vh(i,e),fields:n.value.mapValue.fields}}function n0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Ue(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const w=_.code===void 0?J.UNKNOWN:Bg(_.code);return new ge(w,_.message||"")}(f);n=new $g(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=uh(i,s.document.name),c=Wn(s.document.updateTime),f=s.document.createTime?Wn(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,c,f,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new Gl(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=uh(i,s.document),c=s.readTime?Wn(s.readTime):we.min(),f=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Gl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=uh(i,s.document),c=s.removedTargetIds||[];n=new Gl([],c,a,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new qT(a,c),m=s.targetId;n=new jg(m,f)}}return n}function r0(i,e){let n;if(e instanceof ga)n={update:Em(i,e.key,e.value)};else if(e instanceof zg)n={delete:Vh(i,e.key)};else if(e instanceof Fi)n={update:Em(i,e.key,e.data),updateMask:f0(e.fieldMask)};else{if(!(e instanceof jT))return Ee();n={verify:Vh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ua)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ca)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw Ee()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:e0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee()}(i,e.precondition)),n}function i0(i,e){return i&&i.length>0?(Ue(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Wn(a.updateTime):Wn(c);return f.isEqual(we.min())&&(f=Wn(c)),new bT(f,a.transformResults||[])}(n,e))):[]}function s0(i,e){return{documents:[Wg(i,e.path)]}}function o0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Wg(i,a);const c=function(_){if(_.length!==0)return Gg(Gn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(w=>function(A){return{field:Ns(A.field),direction:u0(A.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=kh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function a0(i){let e=t0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ue(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(C){const A=Kg(C);return A instanceof Gn&&Ig(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(A=>function(U){return new iu(Ls(U.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(C){let A;return A=typeof C=="object"?C.value:C,mu(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(C){const A=!!C.before,O=C.values||[];return new ru(O,A)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const A=!C.before,O=C.values||[];return new ru(O,A)}(n.endAt)),RT(e,a,f,c,m,"F",g,_)}function l0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ls(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ls(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ls(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ls(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Ls(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(s=>Kg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(i):Ee()}function u0(i){return XT[i]}function c0(i){return YT[i]}function h0(i){return JT[i]}function Ns(i){return{fieldPath:i.canonicalString()}}function Ls(i){return At.fromServerFormat(i.fieldPath)}function Gg(i){return i instanceof dt?function(n){if(n.op==="=="){if(am(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(om(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(am(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(om(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:c0(n.op),value:n.value}}}(i):i instanceof Gn?function(n){const s=n.getFilters().map(a=>Gg(a));return s.length===1?s[0]:{compositeFilter:{op:h0(n.op),filters:s}}}(i):Ee()}function f0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,a,c=we.min(),f=we.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.ht=e}}function p0(i){const e=a0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.ln=new g0}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Jr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class g0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(et.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Bs(0)}static Qn(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class y0{constructor(e){this.Gn=e,this.buffer=new mt(Tm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Tm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ks(n)}await this.Yn(3e5)})}}class v0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(pu.oe);const s=new y0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(wm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,f=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),Vs()<=Ne.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${C} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C})))}}function E0(i,e){return new v0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.changes=new Mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ta(s.mutation,a,Dn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ae()){const a=Ni();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Xo();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ae()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=Er();const f=ea(),m=function(){return ea()}();return n.forEach((g,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof Fi)?c=c.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),ta(w.mutation,_,w.mutation.getFieldMask(),pt.now())):f.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,w)=>f.set(_,w)),n.forEach((_,w)=>{var C;return m.set(_,new T0(w,(C=f.get(_))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ea();let a=new Je((f,m)=>f-m),c=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let w=s.get(g)||Dn.empty();w=m.applyToLocalView(_,w),s.set(g,w);const C=(a.get(m.batchId)||Ae()).add(g);a=a.insert(m.batchId,C)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,w=g.value,C=Dg();w.forEach(A=>{if(!c.has(A)){const O=Ug(n.get(A),s.get(A));O!==null&&C.set(A,O),c=c.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,C))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Ni());let m=-1,g=c;return f.next(_=>W.forEach(_,(w,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{g=g.insert(w,A)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,Ae())).next(w=>({batchId:m,changes:Vg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let a=Xo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Xo();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,g=>{const _=function(C,A){return new yu(A,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((C,A)=>{f=f.insert(C,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((g,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,Ft.newInvalidDocument(w)))});let m=Xo();return f.forEach((g,_)=>{const w=c.get(g);w!==void 0&&ta(w.mutation,_,Dn.empty(),pt.now()),vu(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Wn(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:p0(a.bundledQuery),readTime:Wn(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.overlays=new Je(ye.comparator),this.dr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ni();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Ni(),c=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Je((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=Ni(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=Ni(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new HT(n,s));let c=this.dr.get(n);c===void 0&&(c=Ae(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this.Er=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new wt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ye(new et([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ye(new et([])),s=new wt(n,e),a=new wt(n,e+1);let c=Ae();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new wt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ye.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $T(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(a=>{const c=new wt(a,0),f=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const f=new wt(new ye(c),0);let m=new mt(ke);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.br)),!0)},f),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ue(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.Nr=e,this.docs=function(){return new Je(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Er();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||iT(rT(w),s)<=0||(a.has(w.key)||vu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Ee()}Br(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new k0(this)}getSize(e){return W.resolve(this.size)}}class k0 extends w0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.persistence=e,this.Lr=new Mi(n=>Gh(n),Xh),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.kr=0,this.qr=new nf,this.targetCount=0,this.Qr=Bs.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new pu(0),this.Ur=!1,this.Ur=!0,this.Wr=new C0,this.referenceDelegate=e(this),this.Gr=new x0(this),this.indexManager=new m0,this.remoteDocumentCache=function(a){return new P0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new d0(n),this.jr=new I0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new A0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new V0(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class V0 extends oT{constructor(e){super(),this.currentSequenceNumber=e}}class rf{constructor(e){this.persistence=e,this.Zr=new nf,this.Xr=null}static ei(e){return new rf(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=ye.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,we.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class lu{constructor(e,n){this.persistence=e,this.ri=new Mi(s=>uT(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=E0(this,n)}static ei(e,n){return new lu(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,we.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wl(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ae(),a=Ae();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new sf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kE()?8:aT(AE())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new D0;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Vs()<=Ne.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Vs()<=Ne.DEBUG&&se("QueryEngine","Query:",Ds(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Vs()<=Ne.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):W.resolve())}Xi(e,n){if(hm(n))return W.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ph(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ae(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,m);return this.ss(n,_,f,g.readTime)?this.Xi(e,Ph(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return hm(n)||a.isEqual(we.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?W.resolve(null):(Vs()<=Ne.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ds(n)),this.os(e,f,n,nT(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(kg(e));return n.forEach((a,c)=>{vu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Vs()<=Ne.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.Zi.getDocumentsMatchingQuery(e,n,Jr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Je(ke),this.cs=new Mi(c=>Gh(c),Xh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function O0(i,e,n,s){return new L0(i,e,n,s)}async function Jg(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=Ae();for(const _ of a){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:m}))})})}function M0(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,_,w){const C=_.batch,A=C.keys();let O=W.resolve();return A.forEach(U=>{O=O.next(()=>w.getEntry(g,U)).next($=>{const z=_.docVersions.get(U);Ue(z!==null),$.version.compareTo(z)<0&&(C.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),w.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,C))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ae();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Zg(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function F0(i,e){const n=Se(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,C)=>{const A=a.get(C);if(!A)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,C).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,C)));let O=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?O=O.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,s)),a=a.insert(C,O),function($,z,q){return $.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,O,w)&&m.push(n.Gr.updateTargetData(c,O))});let g=Er(),_=Ae();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(U0(c,f,e.documentUpdates).next(w=>{g=w.Is,_=w.ds})),!s.isEqual(we.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(C=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.us=a,c))}function U0(i,e,n){let s=Ae(),a=Ae();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Er();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Is:f,ds:a}})}function b0(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function z0(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Nh(i,e,n){const s=Se(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Gs(f))throw f;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Sm(i,e,n){const s=Se(i);let a=we.min(),c=Ae();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,w){const C=Se(g),A=C.cs.get(w);return A!==void 0?W.resolve(C.us.get(A)):C.Gr.getTargetData(_,w)}(s,f,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:we.min(),n?c:Ae())).next(m=>(B0(s,PT(e),m),{documents:m,Es:c})))}function B0(i,e,n){let s=i.ls.get(e)||we.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Im{constructor(){this.activeTargetIds=LT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j0{constructor(){this._o=new Im,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Im,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl=null;function ch(){return Bl===null?Bl=function(){return 268435456+Math.round(2147483648*Math.random())}():Bl++,"0x"+Bl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class W0 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=ch(),g=this.No(n,s.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(_,c,f),this.Lo(n,g,_,a).then(w=>(se("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Fs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=H0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=ch();return new Promise((f,m)=>{const g=new fg;g.setWithCredentials(!0),g.listenOnce(dg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ql.NO_ERROR:const w=g.getResponseJson();se(Ot,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case ql.TIMEOUT:se(Ot,`RPC '${e}' ${c} timed out`),m(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case ql.HTTP_ERROR:const C=g.getStatus();if(se(Ot,`RPC '${e}' ${c} failed with status:`,C,"response text:",g.getResponseText()),C>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const U=function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(q)>=0?q:J.UNKNOWN}(O.status);m(new ge(U,O.message))}else m(new ge(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{se(Ot,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);se(Ot,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=ch(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=gg(),m=mg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Bo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const C=f.createWebChannel(w,g);let A=!1,O=!1;const U=new q0({Eo:z=>{O?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(A||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),C.open(),A=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,z),C.send(z))},Ao:()=>C.close()}),$=(z,q,G)=>{z.listen(q,ne=>{try{G(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return $(C,Go.EventType.OPEN,()=>{O||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),U.So())}),$(C,Go.EventType.CLOSE,()=>{O||(O=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),U.Do())}),$(C,Go.EventType.ERROR,z=>{O||(O=!0,Fs(Ot,`RPC '${e}' stream ${a} transport errored:`,z),U.Do(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),$(C,Go.EventType.MESSAGE,z=>{var q;if(!O){const G=z.data[0];Ue(!!G);const ne=G,he=(ne==null?void 0:ne.error)||((q=ne[0])===null||q===void 0?void 0:q.error);if(he){se(Ot,`RPC '${e}' stream ${a} received error:`,he);const Te=he.status;let _e=function(I){const x=at[I];if(x!==void 0)return Bg(x)}(Te),k=he.message;_e===void 0&&(_e=J.INTERNAL,k="Unknown error status: "+Te+" with message "+he.message),O=!0,U.Do(new ge(_e,k)),C.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,G),U.vo(G)}}),$(m,pg.STAT_EVENT,z=>{z.stat===Sh.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Sh.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.bo()},0),U}}function hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){return new ZT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,s,a,c,f,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ey(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ge(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q0 extends ty{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=n0(this.serializer,e),s=function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Wn(f.readTime):we.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Dh(this.serializer),n.addTarget=function(c,f){let m;const g=f.target;if(m=Ah(g)?{documents:s0(c,g)}:{query:o0(c,g).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Hg(c,f.resumeToken);const _=kh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=au(c,f.snapshotVersion.toTimestamp());const _=kh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=l0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Dh(this.serializer),n.removeTarget=e,this.c_(n)}}class K0 extends ty{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=i0(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Dh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>r0(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,xh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(J.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,xh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(J.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class X0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(vr(n),this.C_=!1):se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Ui(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Se(g);_.k_.add(4),await _a(_),_.K_.set("Unknown"),_.k_.delete(4),await Iu(_)}(this))})}),this.K_=new X0(s,a)}}async function Iu(i){if(Ui(i))for(const e of i.q_)await e(!0)}async function _a(i){for(const e of i.q_)await e(!1)}function ny(i,e){const n=Se(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),uf(n)?lf(n):Xs(n).s_()&&af(n,e))}function of(i,e){const n=Se(i),s=Xs(n);n.L_.delete(e),s.s_()&&ry(n,e),n.L_.size===0&&(s.s_()?s.a_():Ui(n)&&n.K_.set("Unknown"))}function af(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(i).V_(e)}function ry(i,e){i.U_.xe(e),Xs(i).m_(e)}function lf(i){i.U_=new GT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.K_.F_()}function uf(i){return Ui(i)&&!Xs(i).i_()&&i.L_.size>0}function Ui(i){return Se(i).k_.size===0}function iy(i){i.U_=void 0}async function J0(i){i.K_.set("Online")}async function Z0(i){i.L_.forEach((e,n)=>{af(i,e)})}async function eS(i,e){iy(i),uf(i)?(i.K_.O_(e),lf(i)):i.K_.set("Unknown")}async function tS(i,e,n){if(i.K_.set("Online"),e instanceof $g&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.L_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.L_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uu(i,s)}else if(e instanceof Gl?i.U_.$e(e):e instanceof jg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(we.min()))try{const s=await Zg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.L_.get(_);w&&c.L_.set(_,w.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,_)=>{const w=c.L_.get(g);if(!w)return;c.L_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),ry(c,g);const C=new Wr(w.target,g,_,w.sequenceNumber);af(c,C)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se("RemoteStore","Failed to raise snapshot:",s),await uu(i,s)}}async function uu(i,e,n){if(!Gs(e))throw e;i.k_.add(1),await _a(i),i.K_.set("Offline"),n||(n=()=>Zg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Iu(i)})}function sy(i,e){return e().catch(n=>uu(i,n,e))}async function Ru(i){const e=Se(i),n=ni(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;nS(e);)try{const a=await b0(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,rS(e,a)}catch(a){await uu(e,a)}oy(e)&&ay(e)}function nS(i){return Ui(i)&&i.B_.length<10}function rS(i,e){i.B_.push(e);const n=ni(i);n.s_()&&n.f_&&n.g_(e.mutations)}function oy(i){return Ui(i)&&!ni(i).i_()&&i.B_.length>0}function ay(i){ni(i).start()}async function iS(i){ni(i).w_()}async function sS(i){const e=ni(i);for(const n of i.B_)e.g_(n.mutations)}async function oS(i,e,n){const s=i.B_.shift(),a=Zh.from(s,e,n);await sy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Ru(i)}async function aS(i,e){e&&ni(i).f_&&await async function(s,a){if(function(f){return WT(f)&&f!==J.ABORTED}(a.code)){const c=s.B_.shift();ni(s).__(),await sy(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Ru(s)}}(i,e),oy(i)&&ay(i)}async function Cm(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const s=Ui(n);n.k_.add(3),await _a(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Iu(n)}async function lS(i,e){const n=Se(i);e?(n.k_.delete(2),await Iu(n)):e||(n.k_.add(2),await _a(n),n.K_.set("Unknown"))}function Xs(i){return i.W_||(i.W_=function(n,s,a){const c=Se(n);return c.b_(),new Q0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:J0.bind(null,i),mo:Z0.bind(null,i),po:eS.bind(null,i),R_:tS.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),uf(i)?lf(i):i.K_.set("Unknown")):(await i.W_.stop(),iy(i))})),i.W_}function ni(i){return i.G_||(i.G_=function(n,s,a){const c=Se(n);return c.b_(),new K0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:iS.bind(null,i),po:aS.bind(null,i),p_:sS.bind(null,i),y_:oS.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Ru(i)):(await i.G_.stop(),i.B_.length>0&&(se("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new cf(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hf(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Gs(i))return new ge(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Xo(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.z_=new Je(ye.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class js{constructor(e,n,s,a,c,f,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new js(e,n,Ms.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class cS{constructor(){this.queries=Pm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Se(n),c=a.queries;a.queries=Pm(),c.forEach((f,m)=>{for(const g of m.J_)g.onError(s)})})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function Pm(){return new Mi(i=>Pg(i),_u)}async function hS(i,e){const n=Se(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new uS,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=hf(f,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&ff(n)}async function fS(i,e){const n=Se(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dS(i,e){const n=Se(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&ff(n)}function pS(i,e,n){const s=Se(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function ff(i){i.X_.forEach(e=>{e.next()})}var Lh,km;(km=Lh||(Lh={})).na="default",km.Cache="cache";class mS{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new js(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Lh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.key=e}}class uy{constructor(e){this.key=e}}class gS{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ae(),this.mutatedKeys=Ae(),this.Va=kg(e),this.ma=new Ms(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new Am,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,C)=>{const A=a.get(w),O=vu(this.query,C)?C:null,U=!!A&&this.mutatedKeys.has(A.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;A&&O?A.data.isEqual(O.data)?U!==$&&(s.track({type:3,doc:O}),z=!0):this.ya(A,O)||(s.track({type:2,doc:O}),z=!0,(g&&this.Va(O,g)>0||_&&this.Va(O,_)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),z=!0):A&&!O&&(s.track({type:1,doc:A}),z=!0,(g||_)&&(m=!0)),z&&(O?(f=f.add(O),c=$?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,C)=>function(O,U){const $=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return $(O)-$(U)}(w.type,C.type)||this.Va(w.doc,C.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,f.length!==0||_?{snapshot:new js(this.query,e.ma,c,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Am,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ae(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new uy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new ly(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ae();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return js.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class yS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _S{constructor(e){this.key=e,this.Fa=!1}}class vS{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Mi(m=>Pg(m),_u),this.Oa=new Map,this.Na=new Set,this.Ba=new Je(ye.comparator),this.La=new Map,this.ka=new nf,this.qa={},this.Qa=new Map,this.Ka=Bs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ES(i,e,n=!0){const s=my(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await cy(s,e,n,!0),a}async function wS(i,e){const n=my(i);await cy(n,e,!0,!1)}async function cy(i,e,n,s){const a=await z0(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await TS(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&ny(i.remoteStore,a),m}async function TS(i,e,n,s,a){i.Ua=(C,A,O)=>async function($,z,q,G){let ne=z.view.ga(q);ne.ss&&(ne=await Sm($.localStore,z.query,!1).then(({documents:k})=>z.view.ga(k,ne)));const he=G&&G.targetChanges.get(z.targetId),Te=G&&G.targetMismatches.get(z.targetId)!=null,_e=z.view.applyChanges(ne,$.isPrimaryClient,he,Te);return Vm($,z.targetId,_e.ba),_e.snapshot}(i,C,A,O);const c=await Sm(i.localStore,e,!0),f=new gS(e,c.Es),m=f.ga(c.documents),g=ya.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,g);Vm(i,n,_.ba);const w=new yS(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function SS(i,e,n){const s=Se(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!_u(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Nh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&of(s.remoteStore,a.targetId),Oh(s,a.targetId)}).catch(Ks)):(Oh(s,a.targetId),await Nh(s.localStore,a.targetId,!0))}async function IS(i,e){const n=Se(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),of(n.remoteStore,s.targetId))}async function RS(i,e,n){const s=DS(i);try{const a=await function(f,m){const g=Se(f),_=pt.now(),w=m.reduce((O,U)=>O.add(U.key),Ae());let C,A;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let U=Er(),$=Ae();return g.hs.getEntries(O,w).next(z=>{U=z,U.forEach((q,G)=>{G.isValidDocument()||($=$.add(q))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,U)).next(z=>{C=z;const q=[];for(const G of m){const ne=BT(G,C.get(G.key).overlayedDocument);ne!=null&&q.push(new Fi(G.key,ne,wg(ne.value.mapValue),yr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,_,q,m)}).next(z=>{A=z;const q=z.applyToLocalDocumentSet(C,$);return g.documentOverlayCache.saveOverlays(O,z.batchId,q)})}).then(()=>({batchId:A.batchId,changes:Vg(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,g){let _=f.qa[f.currentUser.toKey()];_||(_=new Je(ke)),_=_.insert(m,g),f.qa[f.currentUser.toKey()]=_}(s,a.batchId,n),await va(s,a.changes),await Ru(s.remoteStore)}catch(a){const c=hf(a,"Failed to persist write");n.reject(c)}}async function hy(i,e){const n=Se(i);try{const s=await F0(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(Ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Ue(f.Fa):a.removedDocuments.size>0&&(Ue(f.Fa),f.Fa=!1))}),await va(n,s,e)}catch(s){await Ks(s)}}function xm(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const g=Se(f);g.onlineState=m;let _=!1;g.queries.forEach((w,C)=>{for(const A of C.J_)A.ea(m)&&(_=!0)}),_&&ff(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CS(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new Je(ye.comparator);f=f.insert(c,Ft.newNoDocument(c,we.min()));const m=Ae().add(c),g=new Tu(we.min(),new Map,new Je(ke),f,m);await hy(s,g),s.Ba=s.Ba.remove(c),s.La.delete(e),df(s)}else await Nh(s.localStore,e,!1).then(()=>Oh(s,e,n)).catch(Ks)}async function AS(i,e){const n=Se(i),s=e.batch.batchId;try{const a=await M0(n.localStore,e);dy(n,s,null),fy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await va(n,a)}catch(a){await Ks(a)}}async function PS(i,e,n){const s=Se(i);try{const a=await function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,m).next(C=>(Ue(C!==null),w=C.keys(),g.mutationQueue.removeMutationBatch(_,C))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);dy(s,e,n),fy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await va(s,a)}catch(a){await Ks(a)}}function fy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function dy(i,e,n){const s=Se(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Oh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||py(i,s)})}function py(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(of(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),df(i))}function Vm(i,e,n){for(const s of n)s instanceof ly?(i.ka.addReference(s.key,e),kS(i,s)):s instanceof uy?(se("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||py(i,s.key)):Ee()}function kS(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(se("SyncEngine","New document in limbo: "+n),i.Na.add(s),df(i))}function df(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ye(et.fromString(e)),s=i.Ka.next();i.La.set(s,new _S(n)),i.Ba=i.Ba.insert(n,s),ny(i.remoteStore,new Wr(qn(Yh(n.path)),s,"TargetPurposeLimboResolution",pu.oe))}}async function va(i,e,n){const s=Se(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{f.push(s.Ua(g,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const C=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(_){a.push(_);const C=sf.zi(g.targetId,_);c.push(C)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(g,_){const w=Se(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>W.forEach(_,A=>W.forEach(A.Wi,O=>w.persistence.referenceDelegate.addReference(C,A.targetId,O)).next(()=>W.forEach(A.Gi,O=>w.persistence.referenceDelegate.removeReference(C,A.targetId,O)))))}catch(C){if(!Gs(C))throw C;se("LocalStore","Failed to update sequence numbers: "+C)}for(const C of _){const A=C.targetId;if(!C.fromCache){const O=w.us.get(A),U=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(U);w.us=w.us.insert(A,$)}}}(s.localStore,c))}async function xS(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const s=await Jg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(g=>{g.reject(new ge(J.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await va(n,s.Ts)}}function VS(i,e){const n=Se(i),s=n.La.get(e);if(s&&s.Fa)return Ae().add(s.key);{let a=Ae();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function my(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CS.bind(null,e),e.Ma.R_=dS.bind(null,e.eventManager),e.Ma.Wa=pS.bind(null,e.eventManager),e}function DS(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PS.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return O0(this.persistence,new N0,e.initialUser,this.serializer)}ja(e){return new Yg(rf.ei,this.serializer)}za(e){return new j0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class NS extends cu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ue(this.persistence.referenceDelegate instanceof lu);const s=this.persistence.referenceDelegate.garbageCollector;return new _0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Yg(s=>lu.ei(s,n),this.serializer)}}class Mh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xS.bind(null,this.syncEngine),await lS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cS}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),s=function(c){return new W0(c)}(e.databaseInfo);return function(c,f,m,g){return new G0(c,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new Y0(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>xm(this.syncEngine,n,0),function(){return Rm.p()?new Rm:new $0}())}createSyncEngine(e,n){return function(a,c,f,m,g,_,w){const C=new vS(a,c,f,m,g,_);return w&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Se(a);se("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await _a(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mh.provider={build:()=>new Mh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{se("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(se("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fh(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Jg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await MS(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Cm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Cm(e.remoteStore,a)),i._onlineComponents=e}async function MS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await fh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Fs("Error using user provided cache. Falling back to memory cache: "+n),await fh(i,new cu)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await fh(i,new NS(void 0));return i._offlineComponents}async function gy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await Dm(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await Dm(i,new Mh))),i._onlineComponents}function FS(i){return gy(i).then(e=>e.syncEngine)}async function US(i){const e=await gy(i),n=e.eventManager;return n.onListen=ES.bind(null,e.syncEngine),n.onUnlisten=SS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IS.bind(null,e.syncEngine),n}function bS(i,e,n={}){const s=new Xr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,_){const w=new LS({next:A=>{w.eu(),f.enqueueAndForget(()=>fS(c,C));const O=A.docs.has(m);!O&&A.fromCache?_.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&g&&g.source==="server"?_.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),C=new mS(Yh(m.path),w,{includeMetadataChanges:!0,ua:!0});return hS(c,C)}(await US(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(i,e,n){if(!n)throw new ge(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function BS(i,e,n,s){if(e===!0&&s===!0)throw new ge(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lm(i){if(!ye.isDocumentKey(i))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function ha(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pf(i);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Qw;switch(s.type){case"firstParty":return new Yw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Nm.get(n);s&&(se("ComponentProvider","Removing Datastore"),Nm.delete(n),s.terminate())}(this),Promise.resolve()}}function jS(i,e,n,s={}){var a;const c=(i=ha(i,mf))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=CE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(_)}i._authCredentials=new Kw(new yg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gf(this.firestore,e,this._query)}}class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class fa extends gf{constructor(e,n,s){super(e,n,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ye(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function dh(i,e,...n){if(i=Zl(i),arguments.length===1&&(e=_g.newId()),zS("doc","path",e),i instanceof mf){const s=et.fromString(e,...n);return Lm(s),new gn(i,null,new ye(s))}{if(!(i instanceof gn||i instanceof fa))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Lm(s),new gn(i.firestore,i instanceof fa?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ey(this,"async_queue_retry"),this.fu=()=>{const s=hh();s&&se("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=hh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Xr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Gs(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw vr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=cf.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class yf extends mf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Mm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function $S(i,e){const n=typeof i=="object"?i:Ow(),s=typeof i=="string"?i:"(default)",a=Vw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=IE("firestore");c&&jS(a,...c)}return a}function _y(i){if(i._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||HS(i),i._firestoreClient}function HS(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,_,w){return new fT(m,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,yy(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new OS(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Pt.fromBase64String(e))}catch(n){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=/^__.*__$/;class WS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ga(e,this.data,n,this.fieldTransforms)}}function Ey(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class wf{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ey(this.Mu)&&qS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class QS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Su(e)}$u(e,n,s,a=!1){return new wf({Mu:e,methodName:n,Ku:s,path:At.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KS(i){const e=i._freezeSettings(),n=Su(i._databaseId);return new QS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function GS(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Iy("Data must be an object, but it was:",f,s);const m=Ty(s,f);let g,_;if(c.merge)g=new Dn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const C of c.mergeFields){const A=XS(e,C,n);if(!f.contains(A))throw new ge(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);JS(w,A)||w.push(A)}g=new Dn(w),_=f.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,_=f.fieldTransforms;return new WS(new mn(m),g,_)}function wy(i,e){if(Sy(i=Zl(i)))return Iy("Unsupported field value:",e,i),Ty(i,e);if(i instanceof vy)return function(s,a){if(!Ey(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let g=wy(m,a.ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Zl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:au(a.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:au(a.serializer,c)}}if(s instanceof vf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $s)return{bytesValue:Hg(a.serializer,s._byteString)};if(s instanceof gn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ef)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return Jh(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${pf(s)}`)}(i,e)}function Ty(i,e){const n={};return vg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(i,(s,a)=>{const c=wy(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Sy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof vf||i instanceof $s||i instanceof gn||i instanceof vy||i instanceof Ef)}function Iy(i,e,n){if(!Sy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=pf(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function XS(i,e,n){if((e=Zl(e))instanceof _f)return e._internalPath;if(typeof e=="string")return Ry(i,e);throw hu("Field path arguments must be of type string or ",i,!1,void 0,n)}const YS=new RegExp("[~\\*/\\[\\]]");function Ry(i,e,n){if(e.search(YS)>=0)throw hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _f(...e.split("."))._internalPath}catch{throw hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function hu(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${a}`),g+=")"),new ge(J.INVALID_ARGUMENT,m+i+g)}function JS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZS extends Cy{data(){return super.data()}}function Ay(i,e){return typeof e=="string"?Ry(i,e):e instanceof _f?e._internalPath:e._delegate._internalPath}class eI{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Oi(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>it(f.doubleValue));return new Ef(c)}convertGeoPoint(e){return new vf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oa(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Ue(Xg(s));const a=new aa(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return a.isEqual(n)||vr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Py extends Cy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ay("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rI extends Py{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(i){i=ha(i,gn);const e=ha(i.firestore,yf);return bS(_y(e),i._key).then(n=>aI(e,i,n))}class sI extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Fm(i,e,n){i=ha(i,gn);const s=ha(i.firestore,yf),a=tI(i.converter,e);return oI(s,[GS(KS(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,yr.none())])}function oI(i,e){return function(s,a){const c=new Xr;return s.asyncQueue.enqueueAndForget(async()=>RS(await FS(s),a,c)),c.promise}(_y(i),e)}function aI(i,e,n){const s=n.docs.get(e._key),a=new sI(i);return new Py(i,a,e._key,s,new nI(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Qs=a})(Lw),tu(new ia("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new yf(new Gw(s.getProvider("auth-internal")),new Zw(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(_.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Os(em,"4.7.6",e),Os(em,"4.7.6","esm2017")})();const lI={apiKey:"AIzaSyDtF9tOSi7vsc2OcMCyS4swLbqeXXAGKR0",authDomain:"movie-review-b36ce.firebaseapp.com",projectId:"movie-review-b36ce",storageBucket:"movie-review-b36ce.firebasestorage.app",messagingSenderId:"720015796130",appId:"1:720015796130:web:ff99b4d743e59d2b6d34fb",measurementId:"G-KGRHT63DSP"},uI=lg(lI),ph=$S(uI);function cI(){const[i,e]=H.useState(""),[n,s]=H.useState(""),[a,c]=H.useState(""),[f,m]=H.useState(""),[g,_]=H.useState(""),[w,C]=H.useState(null),A=bh(),O=ri(),U={padding:"10px",border:"1px solid #ccc",borderRadius:"5px",fontSize:"16px",width:"100%",marginBottom:"15px"},$={buttonCover:{padding:"10px 0px",minWidth:"100px",border:"none",borderRadius:"5px",marginBottom:"20px"},buttonSubmit:{padding:"15px 20px",minWidth:"200px",border:"none",borderRadius:"5px",backgroundColor:"#28a745",color:"white",fontWeight:"bolder",fontSize:"18px",cursor:"pointer"}},q=new URLSearchParams(O.search).get("id");H.useEffect(()=>{q?(async()=>{const _e=dh(ph,"movies",q),k=await iI(_e);if(k.exists()){const T=k.data();e(T.title),s(T.genre),c(T.cover),m(T.director),_(T.review),C(q)}else console.log("No such document!")})():(e(""),s(""),c(""),m(""),_(""))},[q]);function G(Te){const _e=Te.target.name,k=Te.target.value;switch(_e){case"title":e(k);break;case"genre":s(k);break;case"director":m(k);break;case"review":_(k);break}}function ne(Te){const k=Te.target.files[0],T=new FileReader;T.readAsDataURL(k),T.onloadend=function(){c(T.result.toString())}}async function he(Te){if(Te.preventDefault(),!i||!a&&!w){alert("Title and Cover are required fields!");return}const _e={id:w||crypto.randomUUID(),title:i,genre:n,cover:a,director:f,review:g};if(w){const k=dh(ph,"movies",w);await Fm(k,_e)}else{const k=dh(ph,"movies",_e.id);await Fm(k,_e)}A("/")}return oe.jsx(Yl,{children:oe.jsxs("form",{onSubmit:he,children:[oe.jsxs("div",{children:[oe.jsxs("div",{style:{color:"white",display:"flex",alignItems:"center"},children:["Title ",oe.jsx("span",{style:{color:"white",marginLeft:"5px"},children:"* "}),oe.jsx("span",{children:"Required field"})]}),oe.jsx("input",{type:"text",name:"title",onChange:G,value:i,style:U,required:!0})]}),oe.jsxs("div",{children:[oe.jsx("div",{style:{color:"white"},children:"Genre"}),oe.jsx("input",{type:"text",name:"genre",onChange:G,value:n,style:U})]}),oe.jsxs("div",{children:[oe.jsxs("div",{style:{color:"white",display:"flex",alignItems:"center"},children:["Cover ",oe.jsx("span",{style:{color:"white",marginLeft:"5px"},children:"* "}),oe.jsx("span",{children:"Required field"})]}),oe.jsx("input",{type:"file",name:"cover",onChange:ne,style:$.buttonCover,required:!a&&!w}),oe.jsx("div",{children:a?oe.jsx("img",{src:a,width:"200px",alt:"preview"}):""})]}),oe.jsxs("div",{children:[oe.jsx("div",{style:{color:"white"},children:"Director"}),oe.jsx("input",{type:"text",name:"director",onChange:G,value:f,style:U})]}),oe.jsxs("div",{children:[oe.jsx("div",{style:{color:"white"},children:"Review"}),oe.jsx("textarea",{name:"review",onChange:G,value:g,rows:"6",cols:"40",style:U})]}),oe.jsx("input",{type:"submit",value:w?"Update Movie":"Register Movie",style:$.buttonSubmit})]})})}function hI(){const[i,e]=H.useState(null),n=mv(),s=eg();if(H.useEffect(()=>{const w=s.getItem(n.bookId);e(w)},[n.bookId]),!i)return oe.jsx(Yl,{children:"Item not found"});const a={display:"flex",justifyContent:"center",padding:"20px",color:"white",textAlign:"left"},c={width:"350px",height:"575px",objectFit:"cover",borderRadius:"10px",marginRight:"30px"},f={display:"flex",flexDirection:"column",justifyContent:"center"},m={fontSize:"20px"},g={fontWeight:"bold",fontSize:"20px",marginBottom:"10px"},_={fontSize:"52px",fontWeight:"bold",marginBottom:"10px"};return oe.jsx(Yl,{children:oe.jsxs("div",{style:a,children:[oe.jsx("img",{src:i.cover,alt:i.title,style:c}),oe.jsxs("div",{style:f,children:[oe.jsx("h2",{style:_,children:i.title}),i.genre&&oe.jsxs("div",{style:g,children:[oe.jsx("span",{style:m,children:"Genre:"})," ",i.genre]}),i.director&&oe.jsxs("div",{style:g,children:[oe.jsx("span",{style:m,children:"Director:"})," ",i.director]}),i.review&&oe.jsxs("div",{style:g,children:[oe.jsx("span",{style:m,children:"Review:"})," ",i.review]})]})]})})}function fI(){return oe.jsx(cE,{children:oe.jsx(eE,{basename:"/MovieReview",children:oe.jsxs(xv,{children:[oe.jsx(jl,{path:"/",element:oe.jsx(pE,{})}),oe.jsx(jl,{path:"create",element:oe.jsx(cI,{})}),oe.jsx(jl,{path:"view/:bookId",element:oe.jsx(hI,{})})]})})})}b_.createRoot(document.getElementById("root")).render(oe.jsx(H.StrictMode,{children:oe.jsx(fI,{})}));
